!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",o=e[3];if(!o)return t;if(n&&"function"==typeof btoa){var r=(c=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(a," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([r]).join("\n")}var c,s,a;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(r[c]=!0)}for(var s=0;s<e.length;s++){var a=[].concat(e[s]);o&&r[a[0]]||(t&&(a[2]?a[2]="".concat(t," and ").concat(a[2]):a[2]=t),n.push(a))}},n}},function(e,n,t){var o=t(2),r=t(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,n,t){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),c=[];function s(e){for(var n=-1,t=0;t<c.length;t++)if(c[t].identifier===e){n=t;break}return n}function a(e,n){for(var t={},o=[],r=0;r<e.length;r++){var i=e[r],a=n.base?i[0]+n.base:i[0],l=t[a]||0,d="".concat(a," ").concat(l);t[a]=l+1;var h=s(d),A={css:i[1],media:i[2],sourceMap:i[3]};-1!==h?(c[h].references++,c[h].updater(A)):c.push({identifier:d,updater:m(A,n),references:1}),o.push(d)}return o}function l(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var c=i(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(n)}return n}var d,h=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join("\n")});function A(e,n,t,o){var r=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=h(n,r);else{var i=document.createTextNode(r),c=e.childNodes;c[n]&&e.removeChild(c[n]),c.length?e.insertBefore(i,c[n]):e.appendChild(i)}}function u(e,n,t){var o=t.css,r=t.media,i=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,p=0;function m(e,n){var t,o,r;if(n.singleton){var i=p++;t=f||(f=l(n)),o=A.bind(null,t,i,!1),r=A.bind(null,t,i,!0)}else t=l(n),o=u.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=r());var t=a(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var r=s(t[o]);c[r].references--}for(var i=a(e,n),l=0;l<t.length;l++){var d=s(t[l]);0===c[d].references&&(c[d].updater(),c.splice(d,1))}t=i}}}},function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o)()(!0);r.push([e.i,"body {\n    margin: 0;\n    overflow: hidden;\n    background-color: #AAA;\n}\n\ninput {\n    vertical-align: middle;\n}\n\n.control {\n    background-color: #CCC;\n    color: black;\n    border: solid 0;\n    font-size: 10pt;\n    vertical-align: middle;\n}\n\n.b {\n    color: #000;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.w {\n    color: #fff;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.candidate {\n    background-color: #090;\n    border: solid 0;\n    font-size: 12pt;\n    color: green;\n    width: 100%;\n    height: 100%;\n}\n\n.candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #222;\n}\n.candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #DDD;\n}\n\n.best-candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #000;\n    font-weight: bold;\n}\n.best-candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    font-weight: bold;\n}\n\nul {\n    list-style-type: none;\n}\n\n.score {\n    color: #000;\n}\n\ntable.board {\n    float: left;\n    padding: 0px;\n    margin: 5px;\n    border-collapse: none;\n    border-spacing: 0;\n}\n\ntr.board {\n    border-collapse: none;\n    border-spacing: 0;\n    padding: 0px;\n    margin: 0px;\n}\n\ntd.board {\n    width: 5;\n    height: 5;\n    padding: 0px;\n    margin: 1px;\n    width: 50px;\n    height: 50px;\n    background-color: green;\n    border: 1px solid #bbb;\n    text-align: center;\n}\n\nth.score, td.score {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}\n\nth.info, td.info {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}","",{version:3,sources:["style.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,gBAAgB;IAChB,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;IACtB,YAAY;IACZ,eAAe;IACf,eAAe;IACf,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,sBAAsB;IACtB,eAAe;IACf,eAAe;IACf,YAAY;IACZ,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;AACf;AACA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;IACX,iBAAiB;AACrB;AACA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;IACX,iBAAiB;AACrB;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,WAAW;IACX,qBAAqB;IACrB,iBAAiB;AACrB;;AAEA;IACI,qBAAqB;IACrB,iBAAiB;IACjB,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,QAAQ;IACR,SAAS;IACT,YAAY;IACZ,WAAW;IACX,WAAW;IACX,YAAY;IACZ,uBAAuB;IACvB,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,iBAAiB;AACrB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,iBAAiB;AACrB",file:"style.css",sourcesContent:["body {\n    margin: 0;\n    overflow: hidden;\n    background-color: #AAA;\n}\n\ninput {\n    vertical-align: middle;\n}\n\n.control {\n    background-color: #CCC;\n    color: black;\n    border: solid 0;\n    font-size: 10pt;\n    vertical-align: middle;\n}\n\n.b {\n    color: #000;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.w {\n    color: #fff;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.candidate {\n    background-color: #090;\n    border: solid 0;\n    font-size: 12pt;\n    color: green;\n    width: 100%;\n    height: 100%;\n}\n\n.candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #222;\n}\n.candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #DDD;\n}\n\n.best-candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #000;\n    font-weight: bold;\n}\n.best-candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    font-weight: bold;\n}\n\nul {\n    list-style-type: none;\n}\n\n.score {\n    color: #000;\n}\n\ntable.board {\n    float: left;\n    padding: 0px;\n    margin: 5px;\n    border-collapse: none;\n    border-spacing: 0;\n}\n\ntr.board {\n    border-collapse: none;\n    border-spacing: 0;\n    padding: 0px;\n    margin: 0px;\n}\n\ntd.board {\n    width: 5;\n    height: 5;\n    padding: 0px;\n    margin: 1px;\n    width: 50px;\n    height: 50px;\n    background-color: green;\n    border: 1px solid #bbb;\n    text-align: center;\n}\n\nth.score, td.score {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}\n\nth.info, td.info {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}"]}]),n.default=r},function(e,n,t){"use strict";t.r(n);const o=-1,r=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]];function i(e,n){const t=[];for(let o=0;o<8;++o)for(let i=0;i<8;++i)if(0==e[i][o])for(const s of r){const[r,a]=s;if(c(e,n,i,o,r,a)){t.push([[i,o],-65,0]);break}}return t}function c(e,n,t,o,r,i){const c=h(n);let s=0,a=t,l=o;for(;a+=r,l+=i,u(a,l);){const t=e[a][l];if(t!==c){if(t===n&&s>0)return!0;break}s++}return!1}function s(e,n){let t=0;for(let o=0;o<8;++o)for(let r=0;r<8;++r)e[o][r]==n&&++t;return t}function a(e){let n=0;for(let t=0;t<8;++t)for(let o=0;o<8;++o)0!==e[t][o]&&++n;return n-3}function l(e,n){let t=0;for(let o=0;o<8;++o)for(let r=0;r<8;++r){const i=e[o][r];i===n?++t:0!==i&&--t}return t}function d(e){const n=new Array(8);for(let t=0;t<8;++t){const o=e[t],r=new Array(8);for(let e=0;e<8;++e)r[e]=o[e];n[t]=r}return n}function h(e){return-1*e}function A(e,n,t,o){if(0!=e[t][o])return 0;let i=0;for(const c of r){const[r,s]=c;let a=0,l=t,d=o;for(;l+=r,d+=s,u(l,d);){const c=e[l][d];if(0===c)break;if(c===n){a>0&&(f(e,c,t,o,r,s,a),i+=a);break}a++}}return i>0&&(e[t][o]=n),i}function u(e,n){return 0<=e&&e<8&&0<=n&&n<8}function f(e,n,t,o,r,i,c){for(let s=0;s<c;++s)o+=i,e[t+=r][o]=n}function p(e,n){for(let t=0;t<8;++t)for(let o=0;o<8;++o)if(0==e[t][o])for(const i of r){const[r,c]=i;let s=1;for(;;){const i=t+r*s,a=o+c*s;if(!u(i,a))break;const l=e[i][a];if(0===l)break;if(l===n){if(s>1)return!0;break}s++}}return!1}function m(){const e=new Array(8);for(let n=0;n<e.length;++n)e[n]=new Array(8).fill(0);return e[3][3]=1,e[3][4]=o,e[4][3]=o,e[4][4]=1,e}function b(e,n,t){const o=h(n),r=[];let i=d(e);for(let c=0;c<8;++c)for(let s=0;s<8;++s){if(!(A(i,n,c,s)<=0)){if(t<=0)r.push([[c,s],-65,1]);else{const[e,a]=C(i,n,t-1,-65);if(e<65)r.push([[c,s],e,a]);else{const[e,a]=g(i,n,t-1,-65);e>-65?r.push([[c,s],e,a]):p(i,n)||p(i,o)||r.push([[c,s],l(i,n),1])}}i=d(e)}}return r}function g(e,n,t,o){const r=h(n);let i=0,c=-65,s=d(e);for(let a=0;a<8;++a)for(let h=0;h<8;++h){if(!(A(s,n,a,h)<=0)){if(t<=0){++i;const e=l(s,n);if(e>o)return[e,i];c=Math.max(c,e)}else{const[e,a]=C(s,n,t-1,c);if(i+=a,e<65){if(e>o)return[e,i];c=Math.max(c,e)}else{const[e,a]=g(s,n,t-1,o);if(i+=a,e>o)return[e,i];e>-65?c=Math.max(c,e):p(s,n)||p(s,r)||(c=Math.max(c,l(s,n)),++i)}}s=d(e)}}return[c,i]}function C(e,n,t,o){const r=h(n);let i=0,c=65,s=d(e);for(let a=0;a<8;++a)for(let h=0;h<8;++h){if(!(A(s,r,a,h)<=0)){if(t<=0){++i;const e=l(s,n);if(e<o)return[e,i];c=Math.min(c,e)}else{const[e,a]=g(s,n,t-1,c);if(i+=a,e>-65){if(e<o)return[e,i];c=Math.min(c,e)}else{const[e,a]=C(s,n,t-1,o);i+=a,e<65?c=Math.min(c,e):p(s,n)||p(s,r)||(c=Math.min(c,l(s,n)),++i)}}s=d(e)}}return[c,i]}function I(e,n){const t=e.score,o=e.n;return t/n+Math.sqrt(2*Math.log2(n)/o)}function B(e,n){let t=i(e,n);for(0==t.length&&(t=i(e,n=h(n)));t.length>0;){const o=Math.floor(t.length*Math.random()),[r]=t[o],[c,s]=r;if(A(e,n,c,s)<=0)throw new Error;t=i(e,n=h(n)),t.length>0||(t=i(e,n=h(n)))}}function E(e,n){const t=i(e,n),o=h(n),r=[];for(const i of t){const[t,c]=i[0];let s=d(e);if(A(s,n,t,c)<=0)throw new Error;B(d(s),n);const a=l(s,n);r.push({board:s,stone:o,nodes:[],x:t,y:c,score:a,n:1})}return r}function v(e,n){if(0==e.length)throw new Error;const t=n,o=[];for(;e.length>0;){let r=-1,i=0;for(let n=0;n<e.length;++n)i+=e[n].n;if(n===t){let n=Number.NEGATIVE_INFINITY;for(let t=0;t<e.length;++t){const o=I(e[t],i);n<o&&(n=o,r=t)}}else{let n=Number.POSITIVE_INFINITY;for(let t=0;t<e.length;++t){const o=I(e[t],i);n>o&&(n=o,r=t)}}if(r<0)throw new Error;const c=e[r];o.push(c),n=c.stone,0==(e=c.nodes).length&&c.n>4&&(c.nodes=E(c.board,n),0==c.nodes.length&&(n=h(n),c.nodes=E(c.board,h(n)),n=h(n),c.stone=n),e=c.nodes)}const r=d(o[o.length-1].board);B(r,n);const i=l(r,t);for(const e of o)e.score+=i,++e.n}function w(e,n,t){const o=E(e,n);if(0==o.length)return[];const r=a(e);if(1==r)return b(e,n,0);if(64-r<=5)return console.log("algorithm -> alpha-beta"),b(e,n,5);o.sort((e,n)=>{const t=e.x-n.x;return 0!==t?t:e.y-n.y});for(let e=0;e<t;++e)v(o,n);let i=0;const c=[];for(const e of o)c.push([[e.x,e.y],e.score/e.n,e.n]),i+=e.n;return c}function y(e,n){h(n);let t=d(e),o=0,r=[];for(let i=0;i<8;++i)for(let c=0;c<8;++c){const s=A(t,n,i,c);s<=0||(o<s?(o=s,r=[],r.push([[i,c],s,1])):o===s&&r.push([[i,c],s,1]),t=d(e))}return r}function M(e,n,t){let o,r=-65,i=[];if("mcts"===t){o=w(e,n,1e4)}else if("alphabeta"===t){o=b(e,n,5)}else{if("mcts"!==t)throw new Error;o=y(e,n)}for(const e of o){const[n,t]=e;r<t?(r=t,i=[],i.push(n)):r==t&&i.push(n)}return i[Math.floor(Math.random()*i.length)]}function x(e,n,t){console.log("npc",t);const o=h(n);if(p(e,n))for(;;){const r=M(e,n,t);if(!r)return void alert("illegal state 1");const[i,c]=r;if(A(e,n,i,c)<=0&&alert("illegal state 2"),p(e,o)||!p(e,n))break;alert("You must pass.")}else alert("NPC must pass.")}function k(e,n){setTimeout(()=>{const t=l(e,n);0==t?alert("Draw"):t>0?alert("Win"):alert("Lose")},100)}class N{constructor(){this.scoringAlgorithm="mcts",this.npcAlgorithm="mcts",this.yourStone=1,this.npcEnabled=!0,this.searchDepth=5,this.scoreVisible=!1,this.div=document.createElement("div"),this.board=m(),this.stone=1,this.updateBoard(!0,this.scoreVisible)}updateBoard(e,n){const t=this.div;t.innerHTML="",t.appendChild(this.createBoardDom(e,n)),t.append(this.createInfoDom()),t.append(this.createScoreDom()),t.append(this.createControllerDom())}createControllerDom(){const e=document.createElement("table");{const n=document.createElement("tr"),t=document.createElement("label");t.innerHTML="Score",t.htmlFor="score-check";const o=document.createElement("th");o.appendChild(t),n.appendChild(o);const r=document.createElement("input");r.id="score-check",r.type="checkbox",r.onchange=()=>{r.checked?this.scoreVisible=!0:this.scoreVisible=!1,this.updateBoard(!0,this.scoreVisible)},r.checked=this.scoreVisible,r.className="control";const i=document.createElement("td");i.appendChild(r),n.appendChild(i);const c=document.createElement("select");c.id="score-algorithm";for(const e of["greedy","alphabeta","mcts"]){const n=document.createElement("option");n.innerHTML=e.toString(),n.value=e.toString(),c.appendChild(n),this.scoringAlgorithm==e&&(n.selected=!0)}c.onchange=()=>{for(const e of c.selectedOptions){this.scoringAlgorithm=e.value;break}console.log("algorithm: ",this.scoringAlgorithm),this.scoreVisible&&this.updateBoard(!0,this.scoreVisible)},c.className="control";const s=document.createElement("td");s.appendChild(c),n.appendChild(s),e.appendChild(n)}{const n=document.createElement("tr"),t=document.createElement("label");t.innerHTML="NPC",t.htmlFor="npc-check";const o=document.createElement("th");o.appendChild(t),n.appendChild(o);const r=document.createElement("input");r.id="npc-check",r.type="checkbox",r.onchange=()=>{r.checked?this.npcEnabled=!0:this.npcEnabled=!1},r.checked=this.npcEnabled,r.className="control";const i=document.createElement("td");i.appendChild(r),n.appendChild(i);const c=document.createElement("select");c.id="npc-algorithm";for(const e of["greedy","alphabeta","mcts"]){const n=document.createElement("option");n.innerHTML=e.toString(),n.value=e.toString(),c.appendChild(n),this.npcAlgorithm==e&&(n.selected=!0)}c.onchange=()=>{for(const e of c.selectedOptions){this.npcAlgorithm=e.value;break}console.log("algorithm: ",this.npcAlgorithm),this.scoreVisible&&this.updateBoard(!0,this.scoreVisible)},c.className="control";const s=document.createElement("td");s.appendChild(c),n.appendChild(s),e.appendChild(n)}{const n=document.createElement("tr"),t=document.createElement("th");n.appendChild(t);const o=document.createElement("input");o.type="button",o.value="Reset",o.onclick=()=>{this.board=m(),this.stone=1,this.updateBoard(!0,this.scoreVisible)},o.className="control";const r=document.createElement("td");r.appendChild(o),n.appendChild(r),e.appendChild(n)}return e}createInfoDom(){const e=document.createElement("table");{const n=document.createElement("tr"),t=document.createElement("th");t.className="info",t.innerHTML="Next",n.appendChild(t);const o=document.createElement("th");o.className="info",o.innerHTML="Turn",n.appendChild(o);const r=document.createElement("th");r.className="info",r.innerHTML="Version",n.appendChild(r),e.appendChild(n)}{0===this.stone||p(this.board,this.stone)||p(this.board,h(this.stone))||(this.stone=0);const n=document.createElement("tr"),t=document.createElement("td");1==this.stone?(t.className="b info",t.innerHTML="●"):this.stone==o?(t.className="w info",t.innerHTML="●"):(t.innerHTML="Game End",t.className="info"),n.appendChild(t);const r=document.createElement("td");r.className="info";const i=a(this.board);r.innerHTML=(i-3).toString(),n.appendChild(r);const c=document.createElement("td");c.className="info",c.innerHTML="0.1",n.appendChild(c),e.appendChild(n)}return e}createScoreDom(){const e=document.createElement("table");{const n=document.createElement("tr"),t=document.createElement("th");t.className="score",t.innerHTML="Name",n.appendChild(t);const o=document.createElement("th");o.className="score",o.innerHTML="Black",n.appendChild(o);const r=document.createElement("th");r.className="score",r.innerHTML="White",n.appendChild(r),e.appendChild(n)}const n=s(this.board,1),t=s(this.board,o);{const o=document.createElement("tr"),r=document.createElement("td");r.className="score",r.innerHTML="Stones",o.appendChild(r);const i=document.createElement("td");i.className="score",i.innerHTML=n.toString(),o.appendChild(i);const c=document.createElement("td");c.className="score",c.innerHTML=t.toString(),o.appendChild(c),e.appendChild(o)}{const o=document.createElement("tr"),r=document.createElement("td");r.className="score",r.innerHTML="Score",o.appendChild(r);const i=document.createElement("td");i.className="score",i.innerHTML=(n-t).toString(),o.appendChild(i);const c=document.createElement("td");c.className="score",c.innerHTML=(t-n).toString(),o.appendChild(c),e.appendChild(o)}return e}createBoardDom(e,n){const t=this.yourStone,r=document.createElement("table");r.className="board";const c=this.stone;let s;if(n&&e)if(console.log("scoring",this.scoringAlgorithm),"mcts"===this.scoringAlgorithm){const e=1e4;s=w(this.board,c,e)}else if("alphabeta"===this.scoringAlgorithm){const e=5;s=b(this.board,c,e)}else{if("greedy"!==this.scoringAlgorithm)throw new Error("algorithm: "+this.scoringAlgorithm);s=y(this.board,c)}else s=e?i(this.board,c):[];let a=0,l=-65;for(const e of s){const[n,t,o]=e;l=Math.max(l,t),a+=o}for(let e=0;e<8;++e){const n=document.createElement("tr");n.className="board",r.appendChild(n);for(let r=0;r<8;++r){const i=document.createElement("td"),a=this.board[e][r];if(1===a)i.innerHTML="●",i.className="board b";else if(a==o)i.innerHTML="●",i.className="board w";else{i.className="board";let n=null;for(const t of s){const[o,i]=t[0];if(o===e&&i===r){n=t[1];break}}if(null!=n){const s=document.createElement("input");s.type="button",-65==n?(s.className="candidate",s.value=""):n==l?1===c?(s.className="best-candidate-b",s.value=Math.round(n).toString()):c===o&&(s.className="best-candidate-w",s.value=Math.round(n).toString()):1===c?(s.className="candidate-b",s.value=Math.round(n).toString()):c===o&&(s.className="candidate-w",s.value=Math.round(n).toString()),s.onclick=()=>{if(A(this.board,this.stone,e,r)<=0)return;this.updateBoard(!1,!1);const n=h(this.stone);if(!p(this.board,this.stone)&&!p(this.board,n))return this.stone=0,void k(this.board,t);this.updateBoard(!1,!1),setTimeout(()=>{this.npcEnabled?(x(this.board,n,this.npcAlgorithm),p(this.board,this.stone)||(this.stone=0,k(this.board,t))):p(this.board,n)?this.stone=n:p(this.board,this.stone)||(this.stone=0),this.updateBoard(!0,this.scoreVisible)},10)},i.appendChild(s)}}n.appendChild(i)}}return r}}t(1);window.addEventListener("DOMContentLoaded",()=>{!function(){const e=new N;document.body.appendChild(e.div)}()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9tZXRob2QvYWxwaGFiZXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9tZXRob2QvbWN0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWV0aG9kL2dyZWVkeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VNYXAiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiY29uY2F0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwiX2kiLCJwdXNoIiwiYXBpIiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIlciLCJkaXJzIiwic2NhbkNhbmRpZGF0ZXMiLCJib2FyZCIsInN0b25lIiwieSIsIngiLCJkaXIiLCJkeCIsImR5IiwicmV2ZXJzYWJsZSIsInJzIiwicmV2ZXJzZSIsIm54IiwibnkiLCJjb250YWlucyIsImNvdW50U3RvbmVzIiwic2NvcmUiLCJqIiwiY291bnRUdXJucyIsImV2YWxTY29yZSIsImNsb25lQm9hcmQiLCJBcnJheSIsInJvdyIsImNsb25lUm93IiwicHV0U3RvbmUiLCJkaWZmIiwicmV2ZXJzZUxpbmUiLCJoYXNDYW5kaWRhdGVzIiwibmV3Qm9hcmQiLCJmaWxsIiwiY2FuZGlkYXRlTGlzdCIsImRlcHRoIiwibmV4dEJvYXJkIiwibWluQ2FuZGlkYXRlcyIsInNjb3JlMiIsIm4yIiwibWF4Q2FuZGlkYXRlcyIsInVwcGVyIiwibWF4U2NvcmUiLCJNYXRoIiwibWF4IiwibG93ZXIiLCJtaW5TY29yZSIsIm1pbiIsImV2YWxVY2IxIiwibm9kZSIsIm5qIiwic3FydCIsImxvZzIiLCJwbGF5b3V0IiwiY2FuZGlkYXRlcyIsImZsb29yIiwicmFuZG9tIiwieHkiLCJnYW1lTm9kZSIsIm5vZGVzIiwiY2FuZGlkYXRlIiwiY2hvaWNlTm9kZSIsInN0b25lMCIsImZvb3RwcmludHMiLCJOdW1iZXIiLCJORUdBVElWRV9JTkZJTklUWSIsIlBPU0lUSVZFX0lORklOSVRZIiwicGxheUJvYXJkIiwibG9vcHMiLCJ0dXJucyIsImNvbnNvbGUiLCJsb2ciLCJzb3J0IiwiYSIsImIiLCJtYXhEaWZmIiwibnBjQmVzdENhbmRpZGF0ZXMiLCJhbGdvcml0aG0iLCJpaiIsIm5wYyIsImFsZXJ0IiwiYWxlcnRHYW1lUmVzdWx0Iiwic2V0VGltZW91dCIsInNjb3JpbmdBbGdvcml0aG0iLCJucGNBbGdvcml0aG0iLCJ5b3VyU3RvbmUiLCJucGNFbmFibGVkIiwic2VhcmNoRGVwdGgiLCJzY29yZVZpc2libGUiLCJkaXYiLCJ1cGRhdGVCb2FyZCIsImJ1dHRvbkVuYWJsZWQiLCJpbm5lckhUTUwiLCJjcmVhdGVCb2FyZERvbSIsImFwcGVuZCIsImNyZWF0ZUluZm9Eb20iLCJjcmVhdGVTY29yZURvbSIsImNyZWF0ZUNvbnRyb2xsZXJEb20iLCJ0YWJsZSIsInRyIiwibGFiZWwiLCJodG1sRm9yIiwidGgiLCJjaGVja2JveCIsInR5cGUiLCJvbmNoYW5nZSIsImNoZWNrZWQiLCJjbGFzc05hbWUiLCJ0ZCIsInNlbGVjdCIsIm9wdGlvbiIsInNlbGVjdGVkIiwib3B0Iiwic2VsZWN0ZWRPcHRpb25zIiwidGRTY29yaW5nIiwidGRBbGdvcml0aG0iLCJidXR0b25SZXNldCIsIm9uY2xpY2siLCJ0aE5leHQiLCJ0aFR1cm4iLCJ0aFZlcnNpb24iLCJ0ZE5leHQiLCJ0ZFR1cm4iLCJzdG9uZXMiLCJ0ZFZlcnNpb24iLCJ0aE5hbWUiLCJ0aEJsYWNrIiwidGhXaGl0ZSIsImJTdG9uZXMiLCJ3U3RvbmVzIiwidGRMYWJlbCIsInRkQmxhY2siLCJ0ZFdoaXRlIiwidG90YWxDb3VudCIsImkxIiwiajEiLCJidXR0b24iLCJyb3VuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnYW1lIiwiYm9keSIsImluaXQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEcsK0JDMUVyRGhDLEVBQU9ELFFBQVUsU0FBVWtDLEdBQ3pCLElBQUlDLEVBQU8sR0F1RFgsT0FyREFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBc0RWLFNBQWdDRCxFQUFNTCxHQUNwQyxJQUFJTSxFQUFVRCxFQUFLLElBQU0sR0FFckJFLEVBQWFGLEVBQUssR0FFdEIsSUFBS0UsRUFDSCxPQUFPRCxFQUdULEdBQUlOLEdBQWdDLG1CQUFUUSxLQUFxQixDQUM5QyxJQUFJQyxHQVdXQyxFQVhlSCxFQWE1QkksRUFBU0gsS0FBS0ksU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVTCxNQUN6RE0sRUFBTywrREFBK0RDLE9BQU9OLEdBQzFFLE9BQU9NLE9BQU9ELEVBQU0sUUFkckJFLEVBQWFYLEVBQVdZLFFBQVFmLEtBQUksU0FBVWdCLEdBQ2hELE1BQU8saUJBQWlCSCxPQUFPVixFQUFXYyxZQUFjLElBQUlKLE9BQU9HLEVBQVEsVUFFN0UsTUFBTyxDQUFDZCxHQUFTVyxPQUFPQyxHQUFZRCxPQUFPLENBQUNSLElBQWdCYSxLQUFLLE1BT3JFLElBQW1CWixFQUViQyxFQUNBSyxFQVBKLE1BQU8sQ0FBQ1YsR0FBU2dCLEtBQUssTUF2RUpDLENBQXVCbEIsRUFBTUwsR0FFM0MsT0FBSUssRUFBSyxHQUNBLFVBQVVZLE9BQU9aLEVBQUssR0FBSSxNQUFNWSxPQUFPWCxFQUFTLEtBR2xEQSxLQUNOZ0IsS0FBSyxLQUtWckIsRUFBS2pDLEVBQUksU0FBVUUsRUFBU3NELEVBQVlDLEdBQ2YsaUJBQVp2RCxJQUVUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxFQUFTLE1BRzdCLElBQUl3RCxFQUF5QixHQUU3QixHQUFJRCxFQUNGLElBQUssSUFBSXpELEVBQUksRUFBR0EsRUFBSW1DLEtBQUt3QixPQUFRM0QsSUFBSyxDQUVwQyxJQUFJNEQsRUFBS3pCLEtBQUtuQyxHQUFHLEdBRVAsTUFBTjRELElBQ0ZGLEVBQXVCRSxJQUFNLEdBS25DLElBQUssSUFBSUMsRUFBSyxFQUFHQSxFQUFLM0QsRUFBUXlELE9BQVFFLElBQU0sQ0FDMUMsSUFBSXhCLEVBQU8sR0FBR1ksT0FBTy9DLEVBQVEyRCxJQUV6QkosR0FBVUMsRUFBdUJyQixFQUFLLE1BS3RDbUIsSUFDR25CLEVBQUssR0FHUkEsRUFBSyxHQUFLLEdBQUdZLE9BQU9PLEVBQVksU0FBU1AsT0FBT1osRUFBSyxJQUZyREEsRUFBSyxHQUFLbUIsR0FNZHZCLEVBQUs2QixLQUFLekIsTUFJUEosSSxnQkNoRVQsSUFBSThCLEVBQU0sRUFBUSxHQUNGekIsRUFBVSxFQUFRLEdBSUMsaUJBRnZCQSxFQUFVQSxFQUFRbEIsV0FBYWtCLEVBQVEwQixRQUFVMUIsS0FHL0NBLEVBQVUsQ0FBQyxDQUFDdkMsRUFBT0MsRUFBSXNDLEVBQVMsTUFHOUMsSUFBSTJCLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUVQRixFQUFJekIsRUFBUzJCLEdBSTFCbEUsRUFBT0QsUUFBVXdDLEVBQVE0QixRQUFVLEksNkJDaEJuQyxJQUNNQyxFQURGQyxFQUVLLFdBVUwsWUFUb0IsSUFBVEQsSUFNVEEsRUFBT0UsUUFBUUMsUUFBVUMsVUFBWUEsU0FBU0MsTUFBUUYsT0FBT0csT0FHeEROLEdBSVBPLEVBQVksV0FDZCxJQUFJUCxFQUFPLEdBQ1gsT0FBTyxTQUFrQlEsR0FDdkIsUUFBNEIsSUFBakJSLEVBQUtRLEdBQXlCLENBQ3ZDLElBQUlDLEVBQWNMLFNBQVNNLGNBQWNGLEdBRXpDLEdBQUlMLE9BQU9RLG1CQUFxQkYsYUFBdUJOLE9BQU9RLGtCQUM1RCxJQUdFRixFQUFjQSxFQUFZRyxnQkFBZ0JDLEtBQzFDLE1BQU9DLEdBRVBMLEVBQWMsS0FJbEJULEVBQUtRLEdBQVVDLEVBR2pCLE9BQU9ULEVBQUtRLElBcEJBLEdBd0JaTyxFQUFjLEdBRWxCLFNBQVNDLEVBQXFCQyxHQUc1QixJQUZBLElBQUlDLEdBQVUsRUFFTHJGLEVBQUksRUFBR0EsRUFBSWtGLEVBQVl2QixPQUFRM0QsSUFDdEMsR0FBSWtGLEVBQVlsRixHQUFHb0YsYUFBZUEsRUFBWSxDQUM1Q0MsRUFBU3JGLEVBQ1QsTUFJSixPQUFPcUYsRUFHVCxTQUFTQyxFQUFhckQsRUFBTWdDLEdBSTFCLElBSEEsSUFBSXNCLEVBQWEsR0FDYkMsRUFBYyxHQUVUeEYsRUFBSSxFQUFHQSxFQUFJaUMsRUFBSzBCLE9BQVEzRCxJQUFLLENBQ3BDLElBQUlxQyxFQUFPSixFQUFLakMsR0FDWjRELEVBQUtLLEVBQVF3QixLQUFPcEQsRUFBSyxHQUFLNEIsRUFBUXdCLEtBQU9wRCxFQUFLLEdBQ2xEcUQsRUFBUUgsRUFBVzNCLElBQU8sRUFDMUJ3QixFQUFhLEdBQUduQyxPQUFPVyxFQUFJLEtBQUtYLE9BQU95QyxHQUMzQ0gsRUFBVzNCLEdBQU04QixFQUFRLEVBQ3pCLElBQUlDLEVBQVFSLEVBQXFCQyxHQUM3QlEsRUFBTSxDQUNSQyxJQUFLeEQsRUFBSyxHQUNWeUQsTUFBT3pELEVBQUssR0FDWkssVUFBV0wsRUFBSyxLQUdILElBQVhzRCxHQUNGVCxFQUFZUyxHQUFPSSxhQUNuQmIsRUFBWVMsR0FBT0ssUUFBUUosSUFFM0JWLEVBQVlwQixLQUFLLENBQ2ZzQixXQUFZQSxFQUNaWSxRQUFTQyxFQUFTTCxFQUFLM0IsR0FDdkI4QixXQUFZLElBSWhCUCxFQUFZMUIsS0FBS3NCLEdBR25CLE9BQU9JLEVBR1QsU0FBU1UsRUFBbUJqQyxHQUMxQixJQUFJa0MsRUFBUTVCLFNBQVM2QixjQUFjLFNBQy9CQyxFQUFhcEMsRUFBUW9DLFlBQWMsR0FFdkMsUUFBZ0MsSUFBckJBLEVBQVdDLE1BQXVCLENBQzNDLElBQUlBLEVBQW1ELEtBRW5EQSxJQUNGRCxFQUFXQyxNQUFRQSxHQVF2QixHQUpBNUYsT0FBTzZGLEtBQUtGLEdBQVlHLFNBQVEsU0FBVWpGLEdBQ3hDNEUsRUFBTU0sYUFBYWxGLEVBQUs4RSxFQUFXOUUsT0FHUCxtQkFBbkIwQyxFQUFReUMsT0FDakJ6QyxFQUFReUMsT0FBT1AsT0FDVixDQUNMLElBQUl4QixFQUFTRCxFQUFVVCxFQUFReUMsUUFBVSxRQUV6QyxJQUFLL0IsRUFDSCxNQUFNLElBQUlnQyxNQUFNLDJHQUdsQmhDLEVBQU9pQyxZQUFZVCxHQUdyQixPQUFPQSxFQWNULElBQ01VLEVBREZDLEdBQ0VELEVBQVksR0FDVCxTQUFpQmxCLEVBQU9vQixHQUU3QixPQURBRixFQUFVbEIsR0FBU29CLEVBQ1pGLEVBQVVHLE9BQU8zQyxTQUFTZixLQUFLLFFBSTFDLFNBQVMyRCxFQUFvQmQsRUFBT1IsRUFBT3VCLEVBQVF0QixHQUNqRCxJQUFJQyxFQUFNcUIsRUFBUyxHQUFLdEIsRUFBSUUsTUFBUSxVQUFVN0MsT0FBTzJDLEVBQUlFLE1BQU8sTUFBTTdDLE9BQU8yQyxFQUFJQyxJQUFLLEtBQU9ELEVBQUlDLElBSWpHLEdBQUlNLEVBQU1nQixXQUNSaEIsRUFBTWdCLFdBQVdDLFFBQVVOLEVBQVluQixFQUFPRSxPQUN6QyxDQUNMLElBQUl3QixFQUFVOUMsU0FBUytDLGVBQWV6QixHQUNsQzBCLEVBQWFwQixFQUFNb0IsV0FFbkJBLEVBQVc1QixJQUNiUSxFQUFNcUIsWUFBWUQsRUFBVzVCLElBRzNCNEIsRUFBVzVELE9BQ2J3QyxFQUFNc0IsYUFBYUosRUFBU0UsRUFBVzVCLElBRXZDUSxFQUFNUyxZQUFZUyxJQUt4QixTQUFTSyxFQUFXdkIsRUFBT2xDLEVBQVMyQixHQUNsQyxJQUFJQyxFQUFNRCxFQUFJQyxJQUNWQyxFQUFRRixFQUFJRSxNQUNacEQsRUFBWWtELEVBQUlsRCxVQWVwQixHQWJJb0QsRUFDRkssRUFBTU0sYUFBYSxRQUFTWCxHQUU1QkssRUFBTXdCLGdCQUFnQixTQUdwQmpGLEdBQWFGLE9BQ2ZxRCxHQUFPLHVEQUF1RDVDLE9BQU9ULEtBQUtJLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVUwsTUFBZSxRQU1sSXlELEVBQU1nQixXQUNSaEIsRUFBTWdCLFdBQVdDLFFBQVV2QixNQUN0QixDQUNMLEtBQU9NLEVBQU15QixZQUNYekIsRUFBTXFCLFlBQVlyQixFQUFNeUIsWUFHMUJ6QixFQUFNUyxZQUFZckMsU0FBUytDLGVBQWV6QixLQUk5QyxJQUFJZ0MsRUFBWSxLQUNaQyxFQUFtQixFQUV2QixTQUFTN0IsRUFBU0wsRUFBSzNCLEdBQ3JCLElBQUlrQyxFQUNBNEIsRUFDQWIsRUFFSixHQUFJakQsRUFBUTRELFVBQVcsQ0FDckIsSUFBSUcsRUFBYUYsSUFDakIzQixFQUFRMEIsSUFBY0EsRUFBWTNCLEVBQW1CakMsSUFDckQ4RCxFQUFTZCxFQUFvQnpGLEtBQUssS0FBTTJFLEVBQU82QixHQUFZLEdBQzNEZCxFQUFTRCxFQUFvQnpGLEtBQUssS0FBTTJFLEVBQU82QixHQUFZLFFBRTNEN0IsRUFBUUQsRUFBbUJqQyxHQUMzQjhELEVBQVNMLEVBQVdsRyxLQUFLLEtBQU0yRSxFQUFPbEMsR0FFdENpRCxFQUFTLFlBeEZiLFNBQTRCZixHQUUxQixHQUF5QixPQUFyQkEsRUFBTThCLFdBQ1IsT0FBTyxFQUdUOUIsRUFBTThCLFdBQVdULFlBQVlyQixHQW1GekIrQixDQUFtQi9CLElBS3ZCLE9BREE0QixFQUFPbkMsR0FDQSxTQUFxQnVDLEdBQzFCLEdBQUlBLEVBQVEsQ0FDVixHQUFJQSxFQUFPdEMsTUFBUUQsRUFBSUMsS0FBT3NDLEVBQU9yQyxRQUFVRixFQUFJRSxPQUFTcUMsRUFBT3pGLFlBQWNrRCxFQUFJbEQsVUFDbkYsT0FHRnFGLEVBQU9uQyxFQUFNdUMsUUFFYmpCLEtBS05uSCxFQUFPRCxRQUFVLFNBQVVtQyxFQUFNZ0MsSUFDL0JBLEVBQVVBLEdBQVcsSUFHUjRELFdBQTBDLGtCQUF0QjVELEVBQVE0RCxZQUN2QzVELEVBQVE0RCxVQUFZekQsS0FJdEIsSUFBSWdFLEVBQWtCOUMsRUFEdEJyRCxFQUFPQSxHQUFRLEdBQzBCZ0MsR0FDekMsT0FBTyxTQUFnQm9FLEdBR3JCLEdBRkFBLEVBQVVBLEdBQVcsR0FFMkIsbUJBQTVDM0gsT0FBT2tCLFVBQVVNLFNBQVMvQixLQUFLa0ksR0FBbkMsQ0FJQSxJQUFLLElBQUlySSxFQUFJLEVBQUdBLEVBQUlvSSxFQUFnQnpFLE9BQVEzRCxJQUFLLENBQy9DLElBQ0kyRixFQUFRUixFQURLaUQsRUFBZ0JwSSxJQUVqQ2tGLEVBQVlTLEdBQU9JLGFBS3JCLElBRkEsSUFBSXVDLEVBQXFCaEQsRUFBYStDLEVBQVNwRSxHQUV0Q0osRUFBSyxFQUFHQSxFQUFLdUUsRUFBZ0J6RSxPQUFRRSxJQUFNLENBQ2xELElBRUkwRSxFQUFTcEQsRUFGS2lELEVBQWdCdkUsSUFJSyxJQUFuQ3FCLEVBQVlxRCxHQUFReEMsYUFDdEJiLEVBQVlxRCxHQUFRdkMsVUFFcEJkLEVBQVlzRCxPQUFPRCxFQUFRLElBSS9CSCxFQUFrQkUsTSw2QkMxUXRCLGtCQUVJRyxFQUZKLE1BRThCLElBQTRCLEdBRTFEQSxFQUF3QjNFLEtBQUssQ0FBQy9ELEVBQU9DLEVBQUksODJEQUErMkQsR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLENBQUMsYUFBYSxNQUFRLEdBQUcsU0FBVyw2OUJBQTY5QixLQUFPLFlBQVksZUFBaUIsQ0FBQyxrM0RBRXo4RixhLG9DQ05mLE1BQ00wSSxHQUFLLEVBT0xDLEVBQU8sQ0FDVCxDQUFDLEdBQUksR0FDTCxDQUFDLEdBQUksR0FDTCxDQUFDLEVBQUcsR0FDSixDQUFDLEVBQUcsR0FDSixDQUFDLEVBQUcsR0FDSixFQUFFLEVBQUcsR0FDTCxFQUFFLEVBQUcsR0FDTCxFQUFFLEdBQUksSUFNVixTQUFTQyxFQUFlQyxFQUFjQyxHQUNsQyxNQUFNN0csRUFBb0IsR0FDMUIsSUFBSyxJQUFJOEcsRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCLEdBeEJGLEdBd0JNSCxFQUFNRyxHQUFHRCxHQUViLElBQUssTUFBTUUsS0FBT04sRUFBTSxDQUNwQixNQUFPTyxFQUFJQyxHQUFNRixFQUNqQixHQUFJRyxFQUFXUCxFQUFPQyxFQUFPRSxFQUFHRCxFQUFHRyxFQUFJQyxHQUFLLENBQ3hDbEgsRUFBSzZCLEtBQUssQ0FBQyxDQUFDa0YsRUFBR0QsSUFYakIsR0FXZ0MsSUFDOUIsT0FLaEIsT0FBTzlHLEVBR1gsU0FBU21ILEVBQVdQLEVBQWNDLEVBQWNFLEVBQVdELEVBQVdHLEVBQVlDLEdBQzlFLE1BQU1FLEVBQUtDLEVBQVFSLEdBQ25CLElBQUlwRCxFQUFRLEVBQ1I2RCxFQUFLUCxFQUNMUSxFQUFLVCxFQUNULEtBQ0lRLEdBQU1MLEVBQ05NLEdBQU1MLEVBQ0RNLEVBQVNGLEVBQUlDLElBSFQsQ0FJVCxNQUFNekgsRUFBSThHLEVBQU1VLEdBQUlDLEdBQ3BCLEdBQUl6SCxJQUFNc0gsRUFBVixDQUlBLEdBQUl0SCxJQUFNK0csR0FBU3BELEVBQVEsRUFBRyxPQUFPLEVBQ3JDLE1BSklBLElBTVIsT0FBTyxFQUdYLFNBQVNnRSxFQUFZYixFQUFjQyxHQUMvQixJQUFJYSxFQUFRLEVBQ1osSUFBSyxJQUFJM0osRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCLElBQUssSUFBSTRKLEVBQUksRUFBR0EsRUFBSSxJQUFLQSxFQUNqQmYsRUFBTTdJLEdBQUc0SixJQUFNZCxLQUNiYSxFQUlkLE9BQU9BLEVBR1gsU0FBU0UsRUFBV2hCLEdBQ2hCLElBQUljLEVBQVEsRUFDWixJQUFLLElBQUkzSixFQUFJLEVBQUdBLEVBQUksSUFBS0EsRUFDckIsSUFBSyxJQUFJNEosRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBekV2QixJQTBFTWYsRUFBTTdJLEdBQUc0SixNQUNQRCxFQUlkLE9BQU9BLEVBQVEsRUFHbkIsU0FBU0csRUFBVWpCLEVBQWNDLEdBQzdCLElBQUlhLEVBQVEsRUFDWixJQUFLLElBQUkzSixFQUFJLEVBQUdBLEVBQUksSUFBS0EsRUFDckIsSUFBSyxJQUFJNEosRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQUcsQ0FDeEIsTUFBTTdILEVBQUk4RyxFQUFNN0ksR0FBRzRKLEdBQ2Y3SCxJQUFNK0csSUFDSmEsRUF4RlIsSUF5RmE1SCxLQUNMNEgsRUFJZCxPQUFPQSxFQUdYLFNBQVNJLEVBQVdsQixHQUNoQixNQUFNa0IsRUFBb0IsSUFBSUMsTUFBTSxHQUNwQyxJQUFLLElBQUloSyxFQUFJLEVBQUdBLEVBQUksSUFBS0EsRUFBRyxDQUN4QixNQUFNaUssRUFBTXBCLEVBQU03SSxHQUNaa0ssRUFBVyxJQUFJRixNQUFNLEdBQzNCLElBQUssSUFBSUosRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCTSxFQUFTTixHQUFLSyxFQUFJTCxHQUV0QkcsRUFBVy9KLEdBQUtrSyxFQUVwQixPQUFPSCxFQUdYLFNBQVNULEVBQVFSLEdBQ2IsT0FBaUIsRUFBVEEsRUFHWixTQUFTcUIsRUFBU3RCLEVBQWNDLEVBQWNFLEVBQVdELEdBQ3JELEdBbkhNLEdBbUhGRixFQUFNRyxHQUFHRCxHQUFTLE9BQU8sRUFFN0IsSUFBSXFCLEVBQU8sRUFDWCxJQUFLLE1BQU1uQixLQUFPTixFQUFNLENBQ3BCLE1BQU9PLEVBQUlDLEdBQU1GLEVBQ2pCLElBQUl2RCxFQUFRLEVBQ1I2RCxFQUFLUCxFQUNMUSxFQUFLVCxFQUNULEtBQ0lRLEdBQU1MLEVBQ05NLEdBQU1MLEVBQ0RNLEVBQVNGLEVBQUlDLElBSFQsQ0FJVCxNQUFNekgsRUFBSThHLEVBQU1VLEdBQUlDLEdBQ3BCLEdBaElGLElBZ0lNekgsRUFBUyxNQUNiLEdBQUlBLElBQU0rRyxFQUFPLENBQ1RwRCxFQUFRLElBQ1IyRSxFQUFZeEIsRUFBTzlHLEVBQUdpSCxFQUFHRCxFQUFHRyxFQUFJQyxFQUFJekQsR0FDcEMwRSxHQUFRMUUsR0FFWixNQUVKQSxLQU1SLE9BSEkwRSxFQUFPLElBQ1B2QixFQUFNRyxHQUFHRCxHQUFLRCxHQUVYc0IsRUFHWCxTQUFTWCxFQUFTVCxFQUFXRCxHQUN6QixPQUFPLEdBQUtDLEdBQUtBLEVBQUksR0FBSyxHQUFLRCxHQUFLQSxFQUFJLEVBRzVDLFNBQVNzQixFQUFZeEIsRUFBY0MsRUFBY0UsRUFBV0QsRUFBV0csRUFBWUMsRUFBWXpELEdBQzNGLElBQUssSUFBSTFGLEVBQUksRUFBR0EsRUFBSTBGLElBQVMxRixFQUNoQitJLEdBQUtJLEVBQ2ROLEVBREFHLEdBQUtFLEdBQ0lILEdBQUtELEVBSXRCLFNBQVN3QixFQUFjekIsRUFBY0MsR0FDakMsSUFBSyxJQUFJOUksRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCLElBQUssSUFBSTRKLEVBQUksRUFBR0EsRUFBSSxJQUFLQSxFQUNyQixHQS9KRixHQStKTWYsRUFBTTdJLEdBQUc0SixHQUViLElBQUssTUFBTVgsS0FBT04sRUFBTSxDQUNwQixNQUFPTyxFQUFJQyxHQUFNRixFQUNqQixJQUFJdkQsRUFBUSxFQUNaLE9BQWEsQ0FDVCxNQUFNc0QsRUFBSWhKLEVBQUlrSixFQUFLeEQsRUFDYnFELEVBQUlhLEVBQUlULEVBQUt6RCxFQUNuQixJQUFLK0QsRUFBU1QsRUFBR0QsR0FBSSxNQUNyQixNQUFNaEgsRUFBSThHLEVBQU1HLEdBQUdELEdBQ25CLEdBektWLElBeUtjaEgsRUFBUyxNQUNiLEdBQUlBLElBQU0rRyxFQUFPLENBQ2IsR0FBSXBELEVBQVEsRUFBRyxPQUFPLEVBQ3RCLE1BRUpBLEtBS2hCLE9BQU8sRUFHWCxTQUFTNkUsSUFDTCxNQUFNMUIsRUFBZSxJQUFJbUIsTUFBTSxHQUMvQixJQUFLLElBQUloSyxFQUFJLEVBQUdBLEVBQUk2SSxFQUFNbEYsU0FBVTNELEVBQ2hDNkksRUFBTTdJLEdBQUssSUFBSWdLLE1BQU0sR0FBR1EsS0F6THRCLEdBK0xOLE9BSkEzQixFQUFNLEdBQUcsR0E3TEgsRUE4TE5BLEVBQU0sR0FBRyxHQUFLSCxFQUNkRyxFQUFNLEdBQUcsR0FBS0gsRUFDZEcsRUFBTSxHQUFHLEdBaE1ILEVBaU1DQSxFQ3hMWCxTQUFTNEIsRUFBYzVCLEVBQWNDLEVBQWM0QixHQUMvQyxNQUFNckIsRUFBS0MsRUFBUVIsR0FDYjdHLEVBQW9CLEdBQzFCLElBQUkwSSxFQUFZWixFQUFXbEIsR0FDM0IsSUFBSyxJQUFJN0ksRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCLElBQUssSUFBSTRKLEVBQUksRUFBR0EsRUFBSSxJQUFLQSxFQUFHLENBRXhCLEtBRGFPLEVBQVNRLEVBQVc3QixFQUFPOUksRUFBRzRKLElBQy9CLEdBQVosQ0FFQSxHQUFJYyxHQUFTLEVBQ1R6SSxFQUFLNkIsS0FBSyxDQUFDLENBQUM5RCxFQUFHNEosSURDYixHQ0Q0QixRQUMzQixDQUNILE1BQU9ELEVBQU9sSSxHQUFLbUosRUFBY0QsRUFBVzdCLEVBQU80QixFQUFRLEdERHpELElDRUYsR0FBSWYsRURIRixHQ0lFMUgsRUFBSzZCLEtBQUssQ0FBQyxDQUFDOUQsRUFBRzRKLEdBQUlELEVBQU9sSSxRQUN2QixDQUNILE1BQU9vSixFQUFRQyxHQUFNQyxFQUFjSixFQUFXN0IsRUFBTzRCLEVBQVEsR0RML0QsSUNNTUcsR0ROTixHQ09NNUksRUFBSzZCLEtBQUssQ0FBQyxDQUFDOUQsRUFBRzRKLEdBQUlpQixFQUFRQyxJQUNuQlIsRUFBY0ssRUFBVzdCLElBQVd3QixFQUFjSyxFQUFXdEIsSUFDckVwSCxFQUFLNkIsS0FBSyxDQUFDLENBQUM5RCxFQUFHNEosR0FBSUUsRUFBVWEsRUFBVzdCLEdBQVEsS0FJNUQ2QixFQUFZWixFQUFXbEIsSUFHL0IsT0FBTzVHLEVBR1gsU0FBUzhJLEVBQWNsQyxFQUFjQyxFQUFjNEIsRUFBZU0sR0FDOUQsTUFBTTNCLEVBQUtDLEVBQVFSLEdBQ25CLElBQUlwRCxFQUFRLEVBQ1J1RixHRHRCVSxHQ3VCVk4sRUFBWVosRUFBV2xCLEdBQzNCLElBQUssSUFBSTdJLEVBQUksRUFBR0EsRUFBSSxJQUFLQSxFQUNyQixJQUFLLElBQUk0SixFQUFJLEVBQUdBLEVBQUksSUFBS0EsRUFBRyxDQUV4QixLQURhTyxFQUFTUSxFQUFXN0IsRUFBTzlJLEVBQUc0SixJQUMvQixHQUFaLENBRUEsR0FBSWMsR0FBUyxFQUFHLEdBQ1ZoRixFQUNGLE1BQU1pRSxFQUFRRyxFQUFVYSxFQUFXN0IsR0FDbkMsR0FBSWEsRUFBUXFCLEVBQ1IsTUFBTyxDQUFDckIsRUFBT2pFLEdBQ25CdUYsRUFBV0MsS0FBS0MsSUFBSUYsRUFBVXRCLE9BQzNCLENBQ0gsTUFBT0EsRUFBT2xJLEdBQUttSixFQUNYRCxFQUFXN0IsRUFBTzRCLEVBQVEsRUFBR08sR0FFckMsR0FEQXZGLEdBQVNqRSxFQUNMa0ksRUR4Q0YsR0N3Q3FCLENBQ25CLEdBQUlBLEVBQVFxQixFQUNSLE1BQU8sQ0FBQ3JCLEVBQU9qRSxHQUNuQnVGLEVBQVdDLEtBQUtDLElBQUlGLEVBQVV0QixPQUMzQixDQUNILE1BQU9rQixFQUFRQyxHQUFNQyxFQUNiSixFQUFXN0IsRUFBTzRCLEVBQVEsRUFBR00sR0FFckMsR0FEQXRGLEdBQVNvRixFQUNMRCxFQUFTRyxFQUNULE1BQU8sQ0FBQ0gsRUFBUW5GLEdBQ2hCbUYsR0RqRE4sR0NrRE1JLEVBQVdDLEtBQUtDLElBQUlGLEVBQVVKLEdBQ3RCUCxFQUFjSyxFQUFXN0IsSUFBV3dCLEVBQWNLLEVBQVd0QixLQUNyRTRCLEVBQVdDLEtBQUtDLElBQUlGLEVBQVVuQixFQUFVYSxFQUFXN0IsTUFDakRwRCxJQUlkaUYsRUFBWVosRUFBV2xCLElBRy9CLE1BQU8sQ0FBQ29DLEVBQVV2RixHQUd0QixTQUFTa0YsRUFBYy9CLEVBQWNDLEVBQWM0QixFQUFlVSxHQUM5RCxNQUFNL0IsRUFBS0MsRUFBUVIsR0FDbkIsSUFBSXBELEVBQVEsRUFDUjJGLEVEbkVVLEdDb0VWVixFQUFZWixFQUFXbEIsR0FDM0IsSUFBSyxJQUFJN0ksRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCLElBQUssSUFBSTRKLEVBQUksRUFBR0EsRUFBSSxJQUFLQSxFQUFHLENBRXhCLEtBRGFPLEVBQVNRLEVBQVd0QixFQUFJckosRUFBRzRKLElBQzVCLEdBQVosQ0FFQSxHQUFJYyxHQUFTLEVBQUcsR0FDVmhGLEVBQ0YsTUFBTWlFLEVBQVFHLEVBQVVhLEVBQVc3QixHQUNuQyxHQUFJYSxFQUFReUIsRUFDUixNQUFPLENBQUN6QixFQUFPakUsR0FDbkIyRixFQUFXSCxLQUFLSSxJQUFJRCxFQUFVMUIsT0FDM0IsQ0FDSCxNQUFPQSxFQUFPbEksR0FBS3NKLEVBQ1hKLEVBQVc3QixFQUFPNEIsRUFBUSxFQUFHVyxHQUVyQyxHQURBM0YsR0FBU2pFLEVBQ0xrSSxHRG5GRixHQ21GcUIsQ0FDbkIsR0FBSUEsRUFBUXlCLEVBQ1IsTUFBTyxDQUFDekIsRUFBT2pFLEdBQ25CMkYsRUFBV0gsS0FBS0ksSUFBSUQsRUFBVTFCLE9BQzNCLENBQ0gsTUFBT2tCLEVBQVFDLEdBQU1GLEVBQ2JELEVBQVc3QixFQUFPNEIsRUFBUSxFQUFHVSxHQUNyQzFGLEdBQVNvRixFQUNMRCxFRDVGTixHQzZGTVEsRUFBV0gsS0FBS0ksSUFBSUQsRUFBVVIsR0FDdEJQLEVBQWNLLEVBQVc3QixJQUFXd0IsRUFBY0ssRUFBV3RCLEtBQ3JFZ0MsRUFBV0gsS0FBS0ksSUFBSUQsRUFBVXZCLEVBQVVhLEVBQVc3QixNQUNqRHBELElBSWRpRixFQUFZWixFQUFXbEIsSUFHL0IsTUFBTyxDQUFDd0MsRUFBVTNGLEdDckd0QixTQUFTNkYsRUFBU0MsRUFBZ0IvSixHQUM5QixNQUFNdUgsRUFBSXdDLEVBQUs3QixNQUNUOEIsRUFBS0QsRUFBSy9KLEVBQ2hCLE9BQU91SCxFQUFJdkgsRUFBSXlKLEtBQUtRLEtBQUssRUFBSVIsS0FBS1MsS0FBS2xLLEdBQUtnSyxHQUdoRCxTQUFTRyxFQUFRL0MsRUFBY0MsR0FDM0IsSUFBSStDLEVBQWFqRCxFQUFlQyxFQUFPQyxHQUt2QyxJQUp5QixHQUFyQitDLEVBQVdsSSxTQUVYa0ksRUFBYWpELEVBQWVDLEVBRDVCQyxFQUFRUSxFQUFRUixLQUdiK0MsRUFBV2xJLE9BQVMsR0FBRyxDQUMxQixNQUFNZ0MsRUFBUXVGLEtBQUtZLE1BQU1ELEVBQVdsSSxPQUFTdUgsS0FBS2EsV0FFM0NDLEdBQU1ILEVBQVdsRyxJQUNqQnFELEVBQUdELEdBQUtpRCxFQUdmLEdBRGE3QixFQUFTdEIsRUFBT0MsRUFBT0UsRUFBR0QsSUFDM0IsRUFBRyxNQUFNLElBQUlwQyxNQUd6QmtGLEVBQWFqRCxFQUFlQyxFQUQ1QkMsRUFBUVEsRUFBUVIsSUFFWitDLEVBQVdsSSxPQUFTLElBR3hCa0ksRUFBYWpELEVBQWVDLEVBRDVCQyxFQUFRUSxFQUFRUixNQUt4QixTQUFTbUQsRUFBU3BELEVBQWNDLEdBQzVCLE1BQU0rQyxFQUFhakQsRUFBZUMsRUFBT0MsR0FDbkNPLEVBQUtDLEVBQVFSLEdBQ2JvRCxFQUFvQixHQUMxQixJQUFLLE1BQU1DLEtBQWFOLEVBQVksQ0FDaEMsTUFBTzdDLEVBQUdELEdBQUtvRCxFQUFVLEdBQ3pCLElBQUl4QixFQUFZWixFQUFXbEIsR0FFM0IsR0FEYXNCLEVBQVNRLEVBQVc3QixFQUFPRSxFQUFHRCxJQUMvQixFQUFHLE1BQU0sSUFBSXBDLE1BR3pCaUYsRUFEa0I3QixFQUFXWSxHQUNWN0IsR0FDbkIsTUFBTWEsRUFBUUcsRUFBVWEsRUFBVzdCLEdBRW5Db0QsRUFBTXBJLEtBQUssQ0FDUCtFLE1BQU84QixFQUNQN0IsTUFBT08sRUFDUDZDLE1BQU8sR0FDUGxELEVBQUdBLEVBQ0hELEVBQUdBLEVBQ0hZLE1BQU9BLEVBQ1BsSSxFQUFHLElBR1gsT0FBT3lLLEVBR1gsU0FBU0UsRUFBV0YsRUFBbUJwRCxHQUNuQyxHQUFvQixHQUFoQm9ELEVBQU12SSxPQUFhLE1BQU0sSUFBSWdELE1BRWpDLE1BQU0wRixFQUFTdkQsRUFFVHdELEVBQWEsR0FFbkIsS0FBT0osRUFBTXZJLE9BQVMsR0FBRyxDQUVyQixJQUFJZ0MsR0FBUyxFQUVUbEUsRUFBSSxFQUNSLElBQUssSUFBSXpCLEVBQUksRUFBR0EsRUFBSWtNLEVBQU12SSxTQUFVM0QsRUFDaEN5QixHQUFLeUssRUFBTWxNLEdBQUd5QixFQUVsQixHQUFJcUgsSUFBVXVELEVBQVEsQ0FDbEIsSUFBSXBCLEVBQVdzQixPQUFPQyxrQkFDdEIsSUFBSyxJQUFJeE0sRUFBSSxFQUFHQSxFQUFJa00sRUFBTXZJLFNBQVUzRCxFQUFHLENBQ25DLE1BQU0ySixFQUFRNEIsRUFBU1csRUFBTWxNLEdBQUl5QixHQUM3QndKLEVBQVd0QixJQUNYc0IsRUFBV3RCLEVBQ1hoRSxFQUFRM0YsUUFHYixDQUNILElBQUlxTCxFQUFXa0IsT0FBT0Usa0JBQ3RCLElBQUssSUFBSXpNLEVBQUksRUFBR0EsRUFBSWtNLEVBQU12SSxTQUFVM0QsRUFBRyxDQUNuQyxNQUFNMkosRUFBUTRCLEVBQVNXLEVBQU1sTSxHQUFJeUIsR0FDN0I0SixFQUFXMUIsSUFDWDBCLEVBQVcxQixFQUNYaEUsRUFBUTNGLElBSXBCLEdBQUkyRixFQUFRLEVBQUcsTUFBTSxJQUFJZ0IsTUFDekIsTUFBTTZFLEVBQU9VLEVBQU12RyxHQUNuQjJHLEVBQVd4SSxLQUFLMEgsR0FFaEIxQyxFQUFRMEMsRUFBSzFDLE1BRU8sSUFEcEJvRCxFQUFRVixFQUFLVSxPQUNIdkksUUFBZTZILEVBQUsvSixFQWxDaEIsSUFtQ1YrSixFQUFLVSxNQUFRRCxFQUFTVCxFQUFLM0MsTUFBT0MsR0FDVCxHQUFyQjBDLEVBQUtVLE1BQU12SSxTQUNYbUYsRUFBUVEsRUFBUVIsR0FDaEIwQyxFQUFLVSxNQUFRRCxFQUFTVCxFQUFLM0MsTUFBT1MsRUFBUVIsSUFDMUNBLEVBQVFRLEVBQVFSLEdBQ2hCMEMsRUFBSzFDLE1BQVFBLEdBRWpCb0QsRUFBUVYsRUFBS1UsT0FJckIsTUFDTVEsRUFBWTNDLEVBREx1QyxFQUFXQSxFQUFXM0ksT0FBUyxHQUNWa0YsT0FDbEMrQyxFQUFRYyxFQUFXNUQsR0FDbkIsTUFBTWEsRUFBUUcsRUFBVTRDLEVBQVdMLEdBQ25DLElBQUssTUFBTTVLLEtBQUs2SyxFQUNaN0ssRUFBRWtJLE9BQVNBLElBQ1RsSSxFQUFFQSxFQUlaLFNBQVMsRUFBY29ILEVBQWNDLEVBQWM2RCxHQUMvQyxNQUFNVCxFQUFRRCxFQUFTcEQsRUFBT0MsR0FDOUIsR0FBb0IsR0FBaEJvRCxFQUFNdkksT0FDTixNQUFPLEdBR1gsTUFBTWlKLEVBQVEvQyxFQUFXaEIsR0FDekIsR0FBYSxHQUFUK0QsRUFDQSxPQUFPLEVBQXdCL0QsRUFBT0MsRUFBTyxHQUVqRCxHQUFJLEdBQUs4RCxHQUFTLEVBRWQsT0FEQUMsUUFBUUMsSUFBSSwyQkFDTCxFQUF3QmpFLEVBQU9DLEVBQU8sR0FHakRvRCxFQUFNYSxLQUFLLENBQUNDLEVBQUdDLEtBQ1gsTUFBTS9ELEVBQUs4RCxFQUFFaEUsRUFBSWlFLEVBQUVqRSxFQUNuQixPQUFXLElBQVBFLEVBQWlCQSxFQUNkOEQsRUFBRWpFLEVBQUlrRSxFQUFFbEUsSUFHbkIsSUFBSyxJQUFJYSxFQUFJLEVBQUdBLEVBQUkrQyxJQUFTL0MsRUFDekJ3QyxFQUFXRixFQUFPcEQsR0FHdEIsSUFBSS9HLEVBQUksRUFDUixNQUFNOEosRUFBMEIsR0FDaEMsSUFBSyxNQUFNTCxLQUFRVSxFQUNmTCxFQUFXL0gsS0FBSyxDQUFDLENBQUMwSCxFQUFLeEMsRUFBR3dDLEVBQUt6QyxHQUFJeUMsRUFBSzdCLE1BQVE2QixFQUFLL0osRUFBRytKLEVBQUsvSixJQUM3RE0sR0FBS3lKLEVBQUsvSixFQUdkLE9BQU9vSyxFQ3BLWCxTQUFTLEVBQWNoRCxFQUFjQyxHQUN0QlEsRUFBUVIsR0FFbkIsSUFBSTZCLEVBQVlaLEVBQVdsQixHQUV2QnFFLEVBQVUsRUFDVmpMLEVBQW9CLEdBQ3hCLElBQUssSUFBSWpDLEVBQUksRUFBR0EsRUFBSSxJQUFLQSxFQUNyQixJQUFLLElBQUk0SixFQUFJLEVBQUdBLEVBQUksSUFBS0EsRUFBRyxDQUN4QixNQUFNUSxFQUFPRCxFQUFTUSxFQUFXN0IsRUFBTzlJLEVBQUc0SixHQUN2Q1EsR0FBUSxJQUVSOEMsRUFBVTlDLEdBQ1Y4QyxFQUFVOUMsRUFDVm5JLEVBQU8sR0FDUEEsRUFBSzZCLEtBQUssQ0FBQyxDQUFDOUQsRUFBRzRKLEdBQUlRLEVBQU0sS0FDbEI4QyxJQUFZOUMsR0FDbkJuSSxFQUFLNkIsS0FBSyxDQUFDLENBQUM5RCxFQUFHNEosR0FBSVEsRUFBTSxJQUU3Qk8sRUFBWVosRUFBV2xCLElBRy9CLE9BQU81RyxFQ2RYLFNBQVNrTCxFQUFrQnRFLEVBQWNDLEVBQWNzRSxHQUNuRCxJQUVJdkIsRUFGQVosR0pHVSxHSUZWaEosRUFBTyxHQUVYLEdBQWtCLFNBQWRtTCxFQUFzQixDQUV0QnZCLEVBQWEsRUFBbUJoRCxFQUFPQyxFQURqQixVQUVuQixHQUFrQixjQUFkc0UsRUFBMkIsQ0FFbEN2QixFQUFhLEVBQXdCaEQsRUFBT0MsRUFEdEIsT0FFbkIsSUFBa0IsU0FBZHNFLEVBR1AsTUFBTSxJQUFJekcsTUFGVmtGLEVBQWEsRUFBcUJoRCxFQUFPQyxHQUk3QyxJQUFLLE1BQU1xRCxLQUFhTixFQUFZLENBQ2hDLE1BQU93QixFQUFJMUQsR0FBU3dDLEVBQ2hCbEIsRUFBV3RCLEdBQ1hzQixFQUFXdEIsRUFDWDFILEVBQU8sR0FDUEEsRUFBSzZCLEtBQUt1SixJQUNIcEMsR0FBWXRCLEdBQ25CMUgsRUFBSzZCLEtBQUt1SixHQUtsQixPQUFPcEwsRUFET2lKLEtBQUtZLE1BQU1aLEtBQUthLFNBQVc5SixFQUFLMEIsU0FJbEQsU0FBUzJKLEVBQUl6RSxFQUFjQyxFQUFjc0UsR0FDckNQLFFBQVFDLElBQUksTUFBT00sR0FFbkIsTUFBTS9MLEVBQUtpSSxFQUFRUixHQUNuQixHQUFLd0IsRUFBY3pCLEVBQU9DLEdBSTFCLE9BQWEsQ0FDVCxNQUFNdUUsRUFBS0YsRUFBa0J0RSxFQUFPQyxFQUFPc0UsR0FDM0MsSUFBS0MsRUFFRCxZQURBRSxNQUFNLG1CQUlWLE1BQU92TixFQUFHNEosR0FBS3lELEVBS2YsR0FKY2xELEVBQVN0QixFQUFPQyxFQUFPOUksRUFBRzRKLElBQzNCLEdBQ1QyRCxNQUFNLG1CQUVOakQsRUFBY3pCLEVBQU94SCxLQUFRaUosRUFBY3pCLEVBQU9DLEdBQ2xELE1BRUp5RSxNQUFNLHVCQWxCTkEsTUFBTSxrQkFzQmQsU0FBU0MsRUFBZ0IzRSxFQUFjQyxHQUNuQzJFLFdBQVcsS0FDUCxNQUFNOUQsRUFBUUcsRUFBVWpCLEVBQU9DLEdBQ2xCLEdBQVRhLEVBQ0E0RCxNQUFNLFFBQ0M1RCxFQUFRLEVBQ2Y0RCxNQUFNLE9BRU5BLE1BQU0sU0FFWCxLQUdQLE1BQU0sRUFpQkYsY0FkQSxLQUFBRyxpQkFBMkIsT0FDM0IsS0FBQUMsYUFBdUIsT0FFdkIsS0FBQUMsVUo1Rk0sRUk2Rk4sS0FBQUMsWUFBc0IsRUFFdEIsS0FBQUMsWUFBc0IsRUFDdEIsS0FBQUMsY0FBd0IsRUFRcEI1TCxLQUFLNkwsSUFBTXpKLFNBQVM2QixjQUFjLE9BRWxDakUsS0FBSzBHLE1BQVEwQixJQUNicEksS0FBSzJHLE1KM0dILEVJNEdGM0csS0FBSzhMLGFBQVksRUFBTTlMLEtBQUs0TCxjQUdoQyxZQUFZRyxFQUF3QkgsR0FDaEMsTUFBTUMsRUFBTTdMLEtBQUs2TCxJQUNqQkEsRUFBSUcsVUFBWSxHQUVoQkgsRUFBSXBILFlBQVl6RSxLQUFLaU0sZUFBZUYsRUFBZUgsSUFDbkRDLEVBQUlLLE9BQU9sTSxLQUFLbU0saUJBQ2hCTixFQUFJSyxPQUFPbE0sS0FBS29NLGtCQUNoQlAsRUFBSUssT0FBT2xNLEtBQUtxTSx1QkFHcEIsc0JBQ0ksTUFBTUMsRUFBUWxLLFNBQVM2QixjQUFjLFNBQ3JDLENBQ0ksTUFBTXNJLEVBQUtuSyxTQUFTNkIsY0FBYyxNQUU1QnVJLEVBQVFwSyxTQUFTNkIsY0FBYyxTQUNyQ3VJLEVBQU1SLFVBQVksUUFDbEJRLEVBQU1DLFFBQVUsY0FFaEIsTUFBTUMsRUFBS3RLLFNBQVM2QixjQUFjLE1BQ2xDeUksRUFBR2pJLFlBQVkrSCxHQUNmRCxFQUFHOUgsWUFBWWlJLEdBRWYsTUFBTUMsRUFBV3ZLLFNBQVM2QixjQUFjLFNBQ3hDMEksRUFBU2xMLEdBQUssY0FDZGtMLEVBQVNDLEtBQU8sV0FDaEJELEVBQVNFLFNBQVcsS0FDWkYsRUFBU0csUUFDVDlNLEtBQUs0TCxjQUFlLEVBRXBCNUwsS0FBSzRMLGNBQWUsRUFFeEI1TCxLQUFLOEwsYUFBWSxFQUFNOUwsS0FBSzRMLGVBRWhDZSxFQUFTRyxRQUFVOU0sS0FBSzRMLGFBQ3hCZSxFQUFTSSxVQUFZLFVBRXJCLE1BQU1DLEVBQUs1SyxTQUFTNkIsY0FBYyxNQUNsQytJLEVBQUd2SSxZQUFZa0ksR0FDZkosRUFBRzlILFlBQVl1SSxHQUVmLE1BQU1DLEVBQVM3SyxTQUFTNkIsY0FBYyxVQUN0Q2dKLEVBQU94TCxHQUFLLGtCQUNaLElBQUssTUFBTXdKLElBQWEsQ0FBQyxTQUFVLFlBQWEsUUFBUyxDQUNyRCxNQUFNaUMsRUFBUzlLLFNBQVM2QixjQUFjLFVBQ3RDaUosRUFBT2xCLFVBQVlmLEVBQVVsTCxXQUM3Qm1OLEVBQU9wTyxNQUFRbU0sRUFBVWxMLFdBQ3pCa04sRUFBT3hJLFlBQVl5SSxHQUNmbE4sS0FBS3VMLGtCQUFvQk4sSUFDekJpQyxFQUFPQyxVQUFXLEdBRzFCRixFQUFPSixTQUFXLEtBQ2QsSUFBSyxNQUFNTyxLQUFPSCxFQUFPSSxnQkFBaUIsQ0FDdENyTixLQUFLdUwsaUJBQW1CNkIsRUFBSXRPLE1BQzVCLE1BRUo0TCxRQUFRQyxJQUFJLGNBQWUzSyxLQUFLdUwsa0JBQzVCdkwsS0FBSzRMLGNBQ0w1TCxLQUFLOEwsYUFBWSxFQUFNOUwsS0FBSzRMLGVBR3BDcUIsRUFBT0YsVUFBWSxVQUVuQixNQUFNTyxFQUFZbEwsU0FBUzZCLGNBQWMsTUFDekNxSixFQUFVN0ksWUFBWXdJLEdBQ3RCVixFQUFHOUgsWUFBWTZJLEdBRWZoQixFQUFNN0gsWUFBWThILEdBRXRCLENBQ0ksTUFBTUEsRUFBS25LLFNBQVM2QixjQUFjLE1BRTVCdUksRUFBUXBLLFNBQVM2QixjQUFjLFNBQ3JDdUksRUFBTVIsVUFBWSxNQUNsQlEsRUFBTUMsUUFBVSxZQUVoQixNQUFNQyxFQUFLdEssU0FBUzZCLGNBQWMsTUFDbEN5SSxFQUFHakksWUFBWStILEdBQ2ZELEVBQUc5SCxZQUFZaUksR0FFZixNQUFNQyxFQUFXdkssU0FBUzZCLGNBQWMsU0FDeEMwSSxFQUFTbEwsR0FBSyxZQUNka0wsRUFBU0MsS0FBTyxXQUNoQkQsRUFBU0UsU0FBVyxLQUNaRixFQUFTRyxRQUNUOU0sS0FBSzBMLFlBQWEsRUFFbEIxTCxLQUFLMEwsWUFBYSxHQUcxQmlCLEVBQVNHLFFBQVU5TSxLQUFLMEwsV0FDeEJpQixFQUFTSSxVQUFZLFVBRXJCLE1BQU1DLEVBQUs1SyxTQUFTNkIsY0FBYyxNQUNsQytJLEVBQUd2SSxZQUFZa0ksR0FDZkosRUFBRzlILFlBQVl1SSxHQUVmLE1BQU1DLEVBQVM3SyxTQUFTNkIsY0FBYyxVQUN0Q2dKLEVBQU94TCxHQUFLLGdCQUNaLElBQUssTUFBTXdKLElBQWEsQ0FBQyxTQUFVLFlBQWEsUUFBUyxDQUNyRCxNQUFNaUMsRUFBUzlLLFNBQVM2QixjQUFjLFVBQ3RDaUosRUFBT2xCLFVBQVlmLEVBQVVsTCxXQUM3Qm1OLEVBQU9wTyxNQUFRbU0sRUFBVWxMLFdBQ3pCa04sRUFBT3hJLFlBQVl5SSxHQUNmbE4sS0FBS3dMLGNBQWdCUCxJQUNyQmlDLEVBQU9DLFVBQVcsR0FHMUJGLEVBQU9KLFNBQVcsS0FDZCxJQUFLLE1BQU1PLEtBQU9ILEVBQU9JLGdCQUFpQixDQUN0Q3JOLEtBQUt3TCxhQUFlNEIsRUFBSXRPLE1BQ3hCLE1BRUo0TCxRQUFRQyxJQUFJLGNBQWUzSyxLQUFLd0wsY0FDNUJ4TCxLQUFLNEwsY0FDTDVMLEtBQUs4TCxhQUFZLEVBQU05TCxLQUFLNEwsZUFHcENxQixFQUFPRixVQUFZLFVBRW5CLE1BQU1RLEVBQWNuTCxTQUFTNkIsY0FBYyxNQUMzQ3NKLEVBQVk5SSxZQUFZd0ksR0FDeEJWLEVBQUc5SCxZQUFZOEksR0FFZmpCLEVBQU03SCxZQUFZOEgsR0FFdEIsQ0FDSSxNQUFNQSxFQUFLbkssU0FBUzZCLGNBQWMsTUFFNUJ5SSxFQUFLdEssU0FBUzZCLGNBQWMsTUFDbENzSSxFQUFHOUgsWUFBWWlJLEdBRWYsTUFBTWMsRUFBY3BMLFNBQVM2QixjQUFjLFNBQzNDdUosRUFBWVosS0FBTyxTQUNuQlksRUFBWTFPLE1BQVEsUUFDcEIwTyxFQUFZQyxRQUFVLEtBQ2xCek4sS0FBSzBHLE1BQVEwQixJQUNicEksS0FBSzJHLE1KelBYLEVJMFBNM0csS0FBSzhMLGFBQVksRUFBTTlMLEtBQUs0TCxlQUVoQzRCLEVBQVlULFVBQVksVUFFeEIsTUFBTUMsRUFBSzVLLFNBQVM2QixjQUFjLE1BQ2xDK0ksRUFBR3ZJLFlBQVkrSSxHQUNmakIsRUFBRzlILFlBQVl1SSxHQUNmVixFQUFNN0gsWUFBWThILEdBR3RCLE9BQU9ELEVBR1gsZ0JBQ0ksTUFBTUEsRUFBUWxLLFNBQVM2QixjQUFjLFNBRXJDLENBQ0ksTUFBTXNJLEVBQUtuSyxTQUFTNkIsY0FBYyxNQUU1QnlKLEVBQVN0TCxTQUFTNkIsY0FBYyxNQUN0Q3lKLEVBQU9YLFVBQVksT0FDbkJXLEVBQU8xQixVQUFZLE9BQ25CTyxFQUFHOUgsWUFBWWlKLEdBRWYsTUFBTUMsRUFBU3ZMLFNBQVM2QixjQUFjLE1BQ3RDMEosRUFBT1osVUFBWSxPQUNuQlksRUFBTzNCLFVBQVksT0FDbkJPLEVBQUc5SCxZQUFZa0osR0FFZixNQUFNQyxFQUFZeEwsU0FBUzZCLGNBQWMsTUFDekMySixFQUFVYixVQUFZLE9BQ3RCYSxFQUFVNUIsVUFBWSxVQUN0Qk8sRUFBRzlILFlBQVltSixHQUVmdEIsRUFBTTdILFlBQVk4SCxHQUd0QixDSjdSRSxJSThSTXZNLEtBQUsyRyxPQUNHd0IsRUFBY25JLEtBQUswRyxNQUFPMUcsS0FBSzJHLFFBQy9Cd0IsRUFBY25JLEtBQUswRyxNQUFPUyxFQUFRbkgsS0FBSzJHLFVBQy9DM0csS0FBSzJHLE1KalNYLEdJb1NFLE1BQU00RixFQUFLbkssU0FBUzZCLGNBQWMsTUFFNUI0SixFQUFTekwsU0FBUzZCLGNBQWMsTUp4U3hDLEdJeVNNakUsS0FBSzJHLE9BQ0xrSCxFQUFPZCxVQUFZLFNBQ25CYyxFQUFPN0IsVUFBWSxLQUNaaE0sS0FBSzJHLE9BQVNKLEdBQ3JCc0gsRUFBT2QsVUFBWSxTQUNuQmMsRUFBTzdCLFVBQVksTUFFbkI2QixFQUFPN0IsVUFBWSxXQUNuQjZCLEVBQU9kLFVBQVksUUFFdkJSLEVBQUc5SCxZQUFZb0osR0FFZixNQUFNQyxFQUFTMUwsU0FBUzZCLGNBQWMsTUFDdEM2SixFQUFPZixVQUFZLE9BRW5CLE1BQU1nQixFQUFTckcsRUFBVzFILEtBQUswRyxPQUMvQm9ILEVBQU85QixXQUFhK0IsRUFBUyxHQUFHaE8sV0FDaEN3TSxFQUFHOUgsWUFBWXFKLEdBRWYsTUFBTUUsRUFBWTVMLFNBQVM2QixjQUFjLE1BQ3pDK0osRUFBVWpCLFVBQVksT0FDdEJpQixFQUFVaEMsVUFoVE4sTUFpVEpPLEVBQUc5SCxZQUFZdUosR0FFZjFCLEVBQU03SCxZQUFZOEgsR0FFdEIsT0FBT0QsRUFHWCxpQkFDSSxNQUFNQSxFQUFRbEssU0FBUzZCLGNBQWMsU0FFckMsQ0FDSSxNQUFNc0ksRUFBS25LLFNBQVM2QixjQUFjLE1BRTVCZ0ssRUFBUzdMLFNBQVM2QixjQUFjLE1BQ3RDZ0ssRUFBT2xCLFVBQVksUUFDbkJrQixFQUFPakMsVUFBWSxPQUNuQk8sRUFBRzlILFlBQVl3SixHQUVmLE1BQU1DLEVBQVU5TCxTQUFTNkIsY0FBYyxNQUN2Q2lLLEVBQVFuQixVQUFZLFFBQ3BCbUIsRUFBUWxDLFVBQVksUUFDcEJPLEVBQUc5SCxZQUFZeUosR0FFZixNQUFNQyxFQUFVL0wsU0FBUzZCLGNBQWMsTUFDdkNrSyxFQUFRcEIsVUFBWSxRQUNwQm9CLEVBQVFuQyxVQUFZLFFBQ3BCTyxFQUFHOUgsWUFBWTBKLEdBRWY3QixFQUFNN0gsWUFBWThILEdBR3RCLE1BQU02QixFQUFVN0csRUFBWXZILEtBQUswRyxNSjlWL0IsR0krVkkySCxFQUFVOUcsRUFBWXZILEtBQUswRyxNQUFPSCxHQUV4QyxDQUNJLE1BQU1nRyxFQUFLbkssU0FBUzZCLGNBQWMsTUFFNUJxSyxFQUFVbE0sU0FBUzZCLGNBQWMsTUFDdkNxSyxFQUFRdkIsVUFBWSxRQUNwQnVCLEVBQVF0QyxVQUFZLFNBQ3BCTyxFQUFHOUgsWUFBWTZKLEdBRWYsTUFBTUMsRUFBVW5NLFNBQVM2QixjQUFjLE1BQ3ZDc0ssRUFBUXhCLFVBQVksUUFDcEJ3QixFQUFRdkMsVUFBWW9DLEVBQVFyTyxXQUM1QndNLEVBQUc5SCxZQUFZOEosR0FFZixNQUFNQyxFQUFVcE0sU0FBUzZCLGNBQWMsTUFDdkN1SyxFQUFRekIsVUFBWSxRQUNwQnlCLEVBQVF4QyxVQUFZcUMsRUFBUXRPLFdBQzVCd00sRUFBRzlILFlBQVkrSixHQUVmbEMsRUFBTTdILFlBQVk4SCxHQUd0QixDQUNJLE1BQU1BLEVBQUtuSyxTQUFTNkIsY0FBYyxNQUU1QnFLLEVBQVVsTSxTQUFTNkIsY0FBYyxNQUN2Q3FLLEVBQVF2QixVQUFZLFFBQ3BCdUIsRUFBUXRDLFVBQVksUUFDcEJPLEVBQUc5SCxZQUFZNkosR0FFZixNQUFNQyxFQUFVbk0sU0FBUzZCLGNBQWMsTUFDdkNzSyxFQUFReEIsVUFBWSxRQUNwQndCLEVBQVF2QyxXQUFhb0MsRUFBVUMsR0FBU3RPLFdBQ3hDd00sRUFBRzlILFlBQVk4SixHQUVmLE1BQU1DLEVBQVVwTSxTQUFTNkIsY0FBYyxNQUN2Q3VLLEVBQVF6QixVQUFZLFFBQ3BCeUIsRUFBUXhDLFdBQWFxQyxFQUFVRCxHQUFTck8sV0FDeEN3TSxFQUFHOUgsWUFBWStKLEdBQ2ZsQyxFQUFNN0gsWUFBWThILEdBR3RCLE9BQU9ELEVBR1gsZUFBZVAsRUFBd0JILEdBQ25DLE1BQU1ILEVBQVl6TCxLQUFLeUwsVUFDakJhLEVBQVFsSyxTQUFTNkIsY0FBYyxTQUNyQ3FJLEVBQU1TLFVBQVksUUFFbEIsTUFBTW5OLEVBQUlJLEtBQUsyRyxNQUlmLElBQUk3RyxFQUNKLEdBQUk4TCxHQUFnQkcsRUFFaEIsR0FEQXJCLFFBQVFDLElBQUksVUFBVzNLLEtBQUt1TCxrQkFDRSxTQUExQnZMLEtBQUt1TCxpQkFBNkIsQ0FDbEMsTUFBTWYsRUFBUSxJQUNkMUssRUFBTyxFQUFtQkUsS0FBSzBHLE1BQU85RyxFQUFHNEssUUFDdEMsR0FBOEIsY0FBMUJ4SyxLQUFLdUwsaUJBQWtDLENBQzlDLE1BQU1oRCxFQUFRLEVBQ2R6SSxFQUFPLEVBQXdCRSxLQUFLMEcsTUFBTzlHLEVBQUcySSxPQUMzQyxJQUE4QixXQUExQnZJLEtBQUt1TCxpQkFHWixNQUFNLElBQUkvRyxNQUFNLGNBQWV4RSxLQUFLdUwsa0JBRnBDekwsRUFBTyxFQUFxQkUsS0FBSzBHLE1BQU85RyxRQUs1Q0UsRUFET2lNLEVBQ0F0RixFQUFlekcsS0FBSzBHLE1BQU85RyxHQUUzQixHQUdYLElBQUk2TyxFQUFhLEVBQ2IzRixHSnZaTSxHSXdaVixJQUFLLE1BQU1rQixLQUFhbEssRUFBTSxDQUMxQixNQUFPb0wsRUFBSTFELEVBQU9qRSxHQUFTeUcsRUFDM0JsQixFQUFXQyxLQUFLQyxJQUFJRixFQUFVdEIsR0FDOUJpSCxHQUFjbEwsRUFHbEIsSUFBSyxJQUFJMUYsRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQUcsQ0FDeEIsTUFBTTBPLEVBQUtuSyxTQUFTNkIsY0FBYyxNQUNsQ3NJLEVBQUdRLFVBQVksUUFDZlQsRUFBTTdILFlBQVk4SCxHQUVsQixJQUFLLElBQUk5RSxFQUFJLEVBQUdBLEVBQUksSUFBS0EsRUFBRyxDQUN4QixNQUFNdUYsRUFBSzVLLFNBQVM2QixjQUFjLE1BQzVCMEMsRUFBUTNHLEtBQUswRyxNQUFNN0ksR0FBRzRKLEdBQzVCLEdKMWJOLElJMGJVZCxFQUNBcUcsRUFBR2hCLFVBQVksSUFDZmdCLEVBQUdELFVBQVksZUFDWixHQUFJcEcsR0FBU0osRUFDaEJ5RyxFQUFHaEIsVUFBWSxJQUNmZ0IsRUFBR0QsVUFBWSxjQUNaLENBQ0hDLEVBQUdELFVBQVksUUFDZixJQUFJdkYsRUFBUSxLQUNaLElBQUssTUFBTTNHLEtBQVFmLEVBQU0sQ0FDckIsTUFBTzRPLEVBQUlDLEdBQU05TixFQUFLLEdBQ3RCLEdBQUk2TixJQUFPN1EsR0FBSzhRLElBQU9sSCxFQUFHLENBQ3RCRCxFQUFRM0csRUFBSyxHQUNiLE9BR1IsR0FBYSxNQUFUMkcsRUFBZSxDQUNmLE1BQU1vSCxFQUFTeE0sU0FBUzZCLGNBQWMsU0FDdEMySyxFQUFPaEMsS0FBTyxVSnhicEIsSUkwYlVwRixHQUNBb0gsRUFBTzdCLFVBQVksWUFDbkI2QixFQUFPOVAsTUFBUSxJQUNSMEksR0FBU3NCLEVKamRsQyxJSWtkc0JsSixHQUNBZ1AsRUFBTzdCLFVBQVksbUJBQ25CNkIsRUFBTzlQLE1BQVFpSyxLQUFLOEYsTUFBTXJILEdBQU96SCxZQUMxQkgsSUFBTTJHLElBQ2JxSSxFQUFPN0IsVUFBWSxtQkFDbkI2QixFQUFPOVAsTUFBUWlLLEtBQUs4RixNQUFNckgsR0FBT3pILFlKdmR2RCxJSTBkc0JILEdBQ0FnUCxFQUFPN0IsVUFBWSxjQUNuQjZCLEVBQU85UCxNQUFRaUssS0FBSzhGLE1BQU1ySCxHQUFPekgsWUFDMUJILElBQU0yRyxJQUNicUksRUFBTzdCLFVBQVksY0FDbkI2QixFQUFPOVAsTUFBUWlLLEtBQUs4RixNQUFNckgsR0FBT3pILFlBR3pDNk8sRUFBT25CLFFBQVUsS0FFYixHQURhekYsRUFBU2hJLEtBQUswRyxNQUFPMUcsS0FBSzJHLE1BQU85SSxFQUFHNEosSUFDckMsRUFBRyxPQUVmekgsS0FBSzhMLGFBQVksR0FBTyxHQUV4QixNQUFNNU0sRUFBS2lJLEVBQVFuSCxLQUFLMkcsT0FDeEIsSUFBS3dCLEVBQWNuSSxLQUFLMEcsTUFBTzFHLEtBQUsyRyxTQUN4QndCLEVBQWNuSSxLQUFLMEcsTUFBT3hILEdBR2xDLE9BRkFjLEtBQUsyRyxNSnplM0IsT0kwZXNCMEUsRUFBZ0JyTCxLQUFLMEcsTUFBTytFLEdBSWhDekwsS0FBSzhMLGFBQVksR0FBTyxHQUV4QlIsV0FBVyxLQUNIdEwsS0FBSzBMLFlBQ0xQLEVBQUluTCxLQUFLMEcsTUFBT3hILEVBQUljLEtBQUt3TCxjQUNwQnJELEVBQWNuSSxLQUFLMEcsTUFBTzFHLEtBQUsyRyxTQUNoQzNHLEtBQUsyRyxNSnBmbkMsRUlxZjhCMEUsRUFBZ0JyTCxLQUFLMEcsTUFBTytFLEtBRzVCdEQsRUFBY25JLEtBQUswRyxNQUFPeEgsR0FDMUJjLEtBQUsyRyxNQUFRekgsRUFDTGlKLEVBQWNuSSxLQUFLMEcsTUFBTzFHLEtBQUsyRyxTQUN2QzNHLEtBQUsyRyxNSjNmbkMsR0k4ZnNCM0csS0FBSzhMLGFBQVksRUFBTTlMLEtBQUs0TCxlQUM3QixLQUVQb0IsRUFBR3ZJLFlBQVltSyxJQUd2QnJDLEVBQUc5SCxZQUFZdUksSUFHdkIsT0FBT1YsRyxLQ3RnQmZuSyxPQUFPMk0saUJBQWlCLG1CQUFvQixNQUk1QyxXQUNJLE1BQU1DLEVBQU8sSUFBSSxFQUNqQjNNLFNBQVM0TSxLQUFLdkssWUFBWXNLLEVBQUtsRCxLQUwvQm9EIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjQUFBO1xcbn1cXG5cXG5pbnB1dCB7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi5jb250cm9sIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0NDQztcXG4gICAgY29sb3I6IGJsYWNrO1xcbiAgICBib3JkZXI6IHNvbGlkIDA7XFxuICAgIGZvbnQtc2l6ZTogMTBwdDtcXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuXFxuLmIge1xcbiAgICBjb2xvcjogIzAwMDtcXG4gICAgZm9udC1zaXplOiAxNnB0O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi53IHtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGZvbnQtc2l6ZTogMTZwdDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4uY2FuZGlkYXRlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzA5MDtcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEycHQ7XFxuICAgIGNvbG9yOiBncmVlbjtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLmNhbmRpZGF0ZS1iIHtcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEycHQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwOTA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjMjIyO1xcbn1cXG4uY2FuZGlkYXRlLXcge1xcbiAgICBib3JkZXI6IHNvbGlkIDA7XFxuICAgIGZvbnQtc2l6ZTogMTJwdDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzA5MDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgY29sb3I6ICNEREQ7XFxufVxcblxcbi5iZXN0LWNhbmRpZGF0ZS1iIHtcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEycHQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwQjA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjMDAwO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmJlc3QtY2FuZGlkYXRlLXcge1xcbiAgICBib3JkZXI6IHNvbGlkIDA7XFxuICAgIGZvbnQtc2l6ZTogMTJwdDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBCMDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG51bCB7XFxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG59XFxuXFxuLnNjb3JlIHtcXG4gICAgY29sb3I6ICMwMDA7XFxufVxcblxcbnRhYmxlLmJvYXJkIHtcXG4gICAgZmxvYXQ6IGxlZnQ7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gICAgbWFyZ2luOiA1cHg7XFxuICAgIGJvcmRlci1jb2xsYXBzZTogbm9uZTtcXG4gICAgYm9yZGVyLXNwYWNpbmc6IDA7XFxufVxcblxcbnRyLmJvYXJkIHtcXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBub25lO1xcbiAgICBib3JkZXItc3BhY2luZzogMDtcXG4gICAgcGFkZGluZzogMHB4O1xcbiAgICBtYXJnaW46IDBweDtcXG59XFxuXFxudGQuYm9hcmQge1xcbiAgICB3aWR0aDogNTtcXG4gICAgaGVpZ2h0OiA1O1xcbiAgICBwYWRkaW5nOiAwcHg7XFxuICAgIG1hcmdpbjogMXB4O1xcbiAgICB3aWR0aDogNTBweDtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2JiYjtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG50aC5zY29yZSwgdGQuc2NvcmUge1xcbiAgICB3aWR0aDogNzVweDtcXG4gICAgZm9udC1zaXplOiAxMHB0O1xcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXG59XFxuXFxudGguaW5mbywgdGQuaW5mbyB7XFxuICAgIHdpZHRoOiA3NXB4O1xcbiAgICBmb250LXNpemU6IDEwcHQ7XFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJzdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxTQUFTO0lBQ1QsZ0JBQWdCO0lBQ2hCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osZUFBZTtJQUNmLGVBQWU7SUFDZixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGVBQWU7SUFDZixlQUFlO0lBQ2YsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFlBQVk7SUFDWixXQUFXO0FBQ2Y7QUFDQTtJQUNJLGVBQWU7SUFDZixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFlBQVk7SUFDWixXQUFXO0lBQ1gsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxlQUFlO0lBQ2YsZUFBZTtJQUNmLHNCQUFzQjtJQUN0QixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxxQkFBcUI7SUFDckIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksUUFBUTtJQUNSLFNBQVM7SUFDVCxZQUFZO0lBQ1osV0FBVztJQUNYLFdBQVc7SUFDWCxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLHNCQUFzQjtJQUN0QixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZUFBZTtJQUNmLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCXCIsXCJmaWxlXCI6XCJzdHlsZS5jc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiYm9keSB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0FBQTtcXG59XFxuXFxuaW5wdXQge1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG5cXG4uY29udHJvbCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNDQ0M7XFxuICAgIGNvbG9yOiBibGFjaztcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEwcHQ7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi5iIHtcXG4gICAgY29sb3I6ICMwMDA7XFxuICAgIGZvbnQtc2l6ZTogMTZwdDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4udyB7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBmb250LXNpemU6IDE2cHQ7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLmNhbmRpZGF0ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwOTA7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBjb2xvcjogZ3JlZW47XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5jYW5kaWRhdGUtYiB7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDkwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBjb2xvcjogIzIyMjtcXG59XFxuLmNhbmRpZGF0ZS13IHtcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEycHQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwOTA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjREREO1xcbn1cXG5cXG4uYmVzdC1jYW5kaWRhdGUtYiB7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEIwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBjb2xvcjogIzAwMDtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi5iZXN0LWNhbmRpZGF0ZS13IHtcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEycHQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwQjA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuXFxudWwge1xcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XFxufVxcblxcbi5zY29yZSB7XFxuICAgIGNvbG9yOiAjMDAwO1xcbn1cXG5cXG50YWJsZS5ib2FyZCB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbiAgICBwYWRkaW5nOiAwcHg7XFxuICAgIG1hcmdpbjogNXB4O1xcbiAgICBib3JkZXItY29sbGFwc2U6IG5vbmU7XFxuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cXG5cXG50ci5ib2FyZCB7XFxuICAgIGJvcmRlci1jb2xsYXBzZTogbm9uZTtcXG4gICAgYm9yZGVyLXNwYWNpbmc6IDA7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gICAgbWFyZ2luOiAwcHg7XFxufVxcblxcbnRkLmJvYXJkIHtcXG4gICAgd2lkdGg6IDU7XFxuICAgIGhlaWdodDogNTtcXG4gICAgcGFkZGluZzogMHB4O1xcbiAgICBtYXJnaW46IDFweDtcXG4gICAgd2lkdGg6IDUwcHg7XFxuICAgIGhlaWdodDogNTBweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNiYmI7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxudGguc2NvcmUsIHRkLnNjb3JlIHtcXG4gICAgd2lkdGg6IDc1cHg7XFxuICAgIGZvbnQtc2l6ZTogMTBwdDtcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbnRoLmluZm8sIHRkLmluZm8ge1xcbiAgICB3aWR0aDogNzVweDtcXG4gICAgZm9udC1zaXplOiAxMHB0O1xcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXG59XCJdfV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJjb25zdCBCID0gMVxuY29uc3QgVyA9IC0xXG5jb25zdCBFID0gMDtcblxudHlwZSBTdG9uZSA9IC0xIHwgMCB8IDE7XG50eXBlIEJvYXJkID0gU3RvbmVbXVtdO1xudHlwZSBDYW5kaWRhdGUgPSBbW251bWJlciwgbnVtYmVyXSwgbnVtYmVyLCBudW1iZXJdXG5cbmNvbnN0IGRpcnMgPSBbXG4gICAgWzAsIC0xXSxcbiAgICBbMSwgLTFdLFxuICAgIFsxLCAwXSxcbiAgICBbMSwgMV0sXG4gICAgWzAsIDFdLFxuICAgIFstMSwgMV0sXG4gICAgWy0xLCAwXSxcbiAgICBbLTEsIC0xXVxuXTtcblxuY29uc3QgTUFYX1NDT1JFID0gOCAqIDggKyAxO1xuY29uc3QgTUlOX1NDT1JFID0gLSBNQVhfU0NPUkU7XG5cbmZ1bmN0aW9uIHNjYW5DYW5kaWRhdGVzKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lKSB7XG4gICAgY29uc3QgbGlzdDogQ2FuZGlkYXRlW10gPSBbXTtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IDg7ICsreSkge1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDg7ICsreCkge1xuICAgICAgICAgICAgaWYgKGJvYXJkW3hdW3ldICE9IEUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRpciBvZiBkaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2R4LCBkeV0gPSBkaXI7XG4gICAgICAgICAgICAgICAgaWYgKHJldmVyc2FibGUoYm9hcmQsIHN0b25lLCB4LCB5LCBkeCwgZHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChbW3gsIHldLCBNSU5fU0NPUkUsIDBdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufVxuXG5mdW5jdGlvbiByZXZlcnNhYmxlKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lLCB4OiBudW1iZXIsIHk6IG51bWJlciwgZHg6IG51bWJlciwgZHk6IG51bWJlcikge1xuICAgIGNvbnN0IHJzID0gcmV2ZXJzZShzdG9uZSk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgbnggPSB4O1xuICAgIGxldCBueSA9IHk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgbnggKz0gZHg7XG4gICAgICAgIG55ICs9IGR5O1xuICAgICAgICBpZiAoIWNvbnRhaW5zKG54LCBueSkpIGJyZWFrO1xuICAgICAgICBjb25zdCBzID0gYm9hcmRbbnhdW255XTtcbiAgICAgICAgaWYgKHMgPT09IHJzKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMgPT09IHN0b25lICYmIGNvdW50ID4gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNvdW50U3RvbmVzKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lKSB7XG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7ICsraikge1xuICAgICAgICAgICAgaWYgKGJvYXJkW2ldW2pdID09IHN0b25lKSB7XG4gICAgICAgICAgICAgICAgKytzY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NvcmU7XG59XG5cbmZ1bmN0aW9uIGNvdW50VHVybnMoYm9hcmQ6IEJvYXJkKSB7XG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7ICsraikge1xuICAgICAgICAgICAgaWYgKGJvYXJkW2ldW2pdICE9PSBFKSB7XG4gICAgICAgICAgICAgICAgKytzY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NvcmUgLSAzO1xufVxuXG5mdW5jdGlvbiBldmFsU2NvcmUoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUpIHtcbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gYm9hcmRbaV1bal07XG4gICAgICAgICAgICBpZiAocyA9PT0gc3RvbmUpIHtcbiAgICAgICAgICAgICAgICArK3Njb3JlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzICE9PSBFKSB7XG4gICAgICAgICAgICAgICAgLS1zY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NvcmU7XG59XG5cbmZ1bmN0aW9uIGNsb25lQm9hcmQoYm9hcmQ6IEJvYXJkKSB7XG4gICAgY29uc3QgY2xvbmVCb2FyZDogQm9hcmQgPSBuZXcgQXJyYXkoOCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gYm9hcmRbaV07XG4gICAgICAgIGNvbnN0IGNsb25lUm93ID0gbmV3IEFycmF5KDgpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7ICsraikge1xuICAgICAgICAgICAgY2xvbmVSb3dbal0gPSByb3dbal07XG4gICAgICAgIH1cbiAgICAgICAgY2xvbmVCb2FyZFtpXSA9IGNsb25lUm93O1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmVCb2FyZDtcbn1cblxuZnVuY3Rpb24gcmV2ZXJzZShzdG9uZTogU3RvbmUpOiBTdG9uZSB7XG4gICAgcmV0dXJuIChzdG9uZSAqIC0xKSBhcyBTdG9uZTtcbn1cblxuZnVuY3Rpb24gcHV0U3RvbmUoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgaWYgKGJvYXJkW3hdW3ldICE9IEUpIHJldHVybiAwO1xuXG4gICAgbGV0IGRpZmYgPSAwO1xuICAgIGZvciAoY29uc3QgZGlyIG9mIGRpcnMpIHtcbiAgICAgICAgY29uc3QgW2R4LCBkeV0gPSBkaXI7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBueCA9IHg7XG4gICAgICAgIGxldCBueSA9IHk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBueCArPSBkeDtcbiAgICAgICAgICAgIG55ICs9IGR5O1xuICAgICAgICAgICAgaWYgKCFjb250YWlucyhueCwgbnkpKSBicmVhaztcbiAgICAgICAgICAgIGNvbnN0IHMgPSBib2FyZFtueF1bbnldO1xuICAgICAgICAgICAgaWYgKHMgPT09IEUpIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHMgPT09IHN0b25lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXZlcnNlTGluZShib2FyZCwgcywgeCwgeSwgZHgsIGR5LCBjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIGRpZmYgKz0gY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgYm9hcmRbeF1beV0gPSBzdG9uZTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG59XG5cbmZ1bmN0aW9uIGNvbnRhaW5zKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIDAgPD0geCAmJiB4IDwgOCAmJiAwIDw9IHkgJiYgeSA8IDg7XG59XG5cbmZ1bmN0aW9uIHJldmVyc2VMaW5lKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lLCB4OiBudW1iZXIsIHk6IG51bWJlciwgZHg6IG51bWJlciwgZHk6IG51bWJlciwgY291bnQ6IG51bWJlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICB4ICs9IGR4LCB5ICs9IGR5O1xuICAgICAgICBib2FyZFt4XVt5XSA9IHN0b25lO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFzQ2FuZGlkYXRlcyhib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgKytqKSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRbaV1bal0gIT0gRSkgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGlyIG9mIGRpcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbZHgsIGR5XSA9IGRpcjtcbiAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBpICsgZHggKiBjb3VudDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IGogKyBkeSAqIGNvdW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zKHgsIHkpKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGJvYXJkW3hdW3ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gRSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzID09PSBzdG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG5ld0JvYXJkKCkge1xuICAgIGNvbnN0IGJvYXJkOiBCb2FyZCA9IG5ldyBBcnJheSg4KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGJvYXJkW2ldID0gbmV3IEFycmF5KDgpLmZpbGwoRSk7XG4gICAgfVxuICAgIGJvYXJkWzNdWzNdID0gQjtcbiAgICBib2FyZFszXVs0XSA9IFc7XG4gICAgYm9hcmRbNF1bM10gPSBXO1xuICAgIGJvYXJkWzRdWzRdID0gQjtcbiAgICByZXR1cm4gYm9hcmQ7XG59XG5cbmV4cG9ydCB7XG4gICAgRSwgQiwgVyxcbiAgICBkaXJzLFxuICAgIE1JTl9TQ09SRSwgTUFYX1NDT1JFLFxuICAgIEJvYXJkLCBTdG9uZSwgQ2FuZGlkYXRlLFxuICAgIG5ld0JvYXJkLCBzY2FuQ2FuZGlkYXRlcyxcbiAgICBjbG9uZUJvYXJkLCByZXZlcnNlLCBwdXRTdG9uZSwgaGFzQ2FuZGlkYXRlcyxcbiAgICBjb3VudFN0b25lcywgY291bnRUdXJucywgZXZhbFNjb3JlXG59OyIsIi8qKlxuICogQWxwaGHigJNiZXRhIHBydW5pbmdcbiAqL1xuaW1wb3J0IHtcbiAgICBNSU5fU0NPUkUsIE1BWF9TQ09SRSxcbiAgICBCb2FyZCwgU3RvbmUsIENhbmRpZGF0ZSwgXG4gICAgY2xvbmVCb2FyZCwgcmV2ZXJzZSwgcHV0U3RvbmUsIGhhc0NhbmRpZGF0ZXMsIGV2YWxTY29yZVxufSBmcm9tICcuLi9ib2FyZCc7XG5cbmZ1bmN0aW9uIGNhbmRpZGF0ZUxpc3QoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUsIGRlcHRoOiBudW1iZXIpOiBDYW5kaWRhdGVbXSB7XG4gICAgY29uc3QgcnMgPSByZXZlcnNlKHN0b25lKTtcbiAgICBjb25zdCBsaXN0OiBDYW5kaWRhdGVbXSA9IFtdO1xuICAgIGxldCBuZXh0Qm9hcmQgPSBjbG9uZUJvYXJkKGJvYXJkKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7ICsraikge1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IHB1dFN0b25lKG5leHRCb2FyZCwgc3RvbmUsIGksIGopO1xuICAgICAgICAgICAgaWYgKGRpZmYgPD0gMCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChkZXB0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKFtbaSwgal0sIE1JTl9TQ09SRSwgMV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbc2NvcmUsIG5dID0gbWluQ2FuZGlkYXRlcyhuZXh0Qm9hcmQsIHN0b25lLCBkZXB0aCAtIDEsIE1JTl9TQ09SRSk7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgTUFYX1NDT1JFKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChbW2ksIGpdLCBzY29yZSwgbl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtzY29yZTIsIG4yXSA9IG1heENhbmRpZGF0ZXMobmV4dEJvYXJkLCBzdG9uZSwgZGVwdGggLSAxLCBNSU5fU0NPUkUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUyID4gTUlOX1NDT1JFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goW1tpLCBqXSwgc2NvcmUyLCBuMl0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFoYXNDYW5kaWRhdGVzKG5leHRCb2FyZCwgc3RvbmUpICYmICFoYXNDYW5kaWRhdGVzKG5leHRCb2FyZCwgcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goW1tpLCBqXSwgZXZhbFNjb3JlKG5leHRCb2FyZCwgc3RvbmUpLCAxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0Qm9hcmQgPSBjbG9uZUJvYXJkKGJvYXJkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuZnVuY3Rpb24gbWF4Q2FuZGlkYXRlcyhib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSwgZGVwdGg6IG51bWJlciwgdXBwZXI6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIGNvbnN0IHJzID0gcmV2ZXJzZShzdG9uZSk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgbWF4U2NvcmUgPSBNSU5fU0NPUkU7XG4gICAgbGV0IG5leHRCb2FyZCA9IGNsb25lQm9hcmQoYm9hcmQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gcHV0U3RvbmUobmV4dEJvYXJkLCBzdG9uZSwgaSwgaik7XG4gICAgICAgICAgICBpZiAoZGlmZiA8PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGRlcHRoIDw9IDApIHtcbiAgICAgICAgICAgICAgICArK2NvdW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gZXZhbFNjb3JlKG5leHRCb2FyZCwgc3RvbmUpO1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA+IHVwcGVyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Njb3JlLCBjb3VudF07XG4gICAgICAgICAgICAgICAgbWF4U2NvcmUgPSBNYXRoLm1heChtYXhTY29yZSwgc2NvcmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbc2NvcmUsIG5dID0gbWluQ2FuZGlkYXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRCb2FyZCwgc3RvbmUsIGRlcHRoIC0gMSwgbWF4U2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IG47XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgTUFYX1NDT1JFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29yZSA+IHVwcGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzY29yZSwgY291bnRdO1xuICAgICAgICAgICAgICAgICAgICBtYXhTY29yZSA9IE1hdGgubWF4KG1heFNjb3JlLCBzY29yZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3Njb3JlMiwgbjJdID0gbWF4Q2FuZGlkYXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Qm9hcmQsIHN0b25lLCBkZXB0aCAtIDEsIHVwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gbjI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29yZTIgPiB1cHBlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbc2NvcmUyLCBjb3VudF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29yZTIgPiBNSU5fU0NPUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjb3JlID0gTWF0aC5tYXgobWF4U2NvcmUsIHNjb3JlMik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWhhc0NhbmRpZGF0ZXMobmV4dEJvYXJkLCBzdG9uZSkgJiYgIWhhc0NhbmRpZGF0ZXMobmV4dEJvYXJkLCBycykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjb3JlID0gTWF0aC5tYXgobWF4U2NvcmUsIGV2YWxTY29yZShuZXh0Qm9hcmQsIHN0b25lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2NvdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEJvYXJkID0gY2xvbmVCb2FyZChib2FyZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFttYXhTY29yZSwgY291bnRdO1xufVxuXG5mdW5jdGlvbiBtaW5DYW5kaWRhdGVzKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lLCBkZXB0aDogbnVtYmVyLCBsb3dlcjogbnVtYmVyKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgY29uc3QgcnMgPSByZXZlcnNlKHN0b25lKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGxldCBtaW5TY29yZSA9IE1BWF9TQ09SRTtcbiAgICBsZXQgbmV4dEJvYXJkID0gY2xvbmVCb2FyZChib2FyZCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBwdXRTdG9uZShuZXh0Qm9hcmQsIHJzLCBpLCBqKTtcbiAgICAgICAgICAgIGlmIChkaWZmIDw9IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoZGVwdGggPD0gMCkge1xuICAgICAgICAgICAgICAgICsrY291bnQ7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBldmFsU2NvcmUobmV4dEJvYXJkLCBzdG9uZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgbG93ZXIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbc2NvcmUsIGNvdW50XTtcbiAgICAgICAgICAgICAgICBtaW5TY29yZSA9IE1hdGgubWluKG1pblNjb3JlLCBzY29yZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtzY29yZSwgbl0gPSBtYXhDYW5kaWRhdGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEJvYXJkLCBzdG9uZSwgZGVwdGggLSAxLCBtaW5TY29yZSk7XG4gICAgICAgICAgICAgICAgY291bnQgKz0gbjtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPiBNSU5fU0NPUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgbG93ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Njb3JlLCBjb3VudF07XG4gICAgICAgICAgICAgICAgICAgIG1pblNjb3JlID0gTWF0aC5taW4obWluU2NvcmUsIHNjb3JlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbc2NvcmUyLCBuMl0gPSBtaW5DYW5kaWRhdGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRCb2FyZCwgc3RvbmUsIGRlcHRoIC0gMSwgbG93ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBuMjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlMiA8IE1BWF9TQ09SRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluU2NvcmUgPSBNYXRoLm1pbihtaW5TY29yZSwgc2NvcmUyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaGFzQ2FuZGlkYXRlcyhuZXh0Qm9hcmQsIHN0b25lKSAmJiAhaGFzQ2FuZGlkYXRlcyhuZXh0Qm9hcmQsIHJzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluU2NvcmUgPSBNYXRoLm1pbihtaW5TY29yZSwgZXZhbFNjb3JlKG5leHRCb2FyZCwgc3RvbmUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0Qm9hcmQgPSBjbG9uZUJvYXJkKGJvYXJkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW21pblNjb3JlLCBjb3VudF07XG59XG5cbmV4cG9ydCB7IGNhbmRpZGF0ZUxpc3QgfTsiLCIvKipcbiAqIE1vbnRlIENhcmxvIHRyZWUgc2VhcmNoIChNQ1RTKVxuICovXG5pbXBvcnQge1xuICAgIEJvYXJkLCBTdG9uZSwgQ2FuZGlkYXRlLCBcbiAgICBzY2FuQ2FuZGlkYXRlcyxcbiAgICBjbG9uZUJvYXJkLCByZXZlcnNlLCBwdXRTdG9uZSwgZXZhbFNjb3JlLCBjb3VudFR1cm5zXG59IGZyb20gJy4uL2JvYXJkJztcblxuaW1wb3J0ICogYXMgQWxwaGFCZXRhIGZyb20gJy4vYWxwaGFiZXRhJztcblxuaW50ZXJmYWNlIEdhbWVOb2RlIHtcbiAgICBib2FyZDogQm9hcmQ7XG4gICAgbm9kZXM6IEdhbWVOb2RlW107XG4gICAgc3RvbmU6IFN0b25lLFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgc2NvcmU6IG51bWJlcjtcbiAgICBuOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIGV2YWxVY2IxKG5vZGU6IEdhbWVOb2RlLCBuOiBudW1iZXIpIHtcbiAgICBjb25zdCB4ID0gbm9kZS5zY29yZTtcbiAgICBjb25zdCBuaiA9IG5vZGUubjtcbiAgICByZXR1cm4geCAvIG4gKyBNYXRoLnNxcnQoMiAqIE1hdGgubG9nMihuKSAvIG5qKTtcbn1cblxuZnVuY3Rpb24gcGxheW91dChib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSkge1xuICAgIGxldCBjYW5kaWRhdGVzID0gc2NhbkNhbmRpZGF0ZXMoYm9hcmQsIHN0b25lKTtcbiAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICBzdG9uZSA9IHJldmVyc2Uoc3RvbmUpO1xuICAgICAgICBjYW5kaWRhdGVzID0gc2NhbkNhbmRpZGF0ZXMoYm9hcmQsIHN0b25lKTtcbiAgICB9XG4gICAgd2hpbGUgKGNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IE1hdGguZmxvb3IoY2FuZGlkYXRlcy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IFt4eV0gPSBjYW5kaWRhdGVzW2luZGV4XTtcbiAgICAgICAgY29uc3QgW3gsIHldID0geHk7XG5cbiAgICAgICAgY29uc3QgZGlmZiA9IHB1dFN0b25lKGJvYXJkLCBzdG9uZSwgeCwgeSk7XG4gICAgICAgIGlmIChkaWZmIDw9IDApIHRocm93IG5ldyBFcnJvcigpO1xuXG4gICAgICAgIHN0b25lID0gcmV2ZXJzZShzdG9uZSk7XG4gICAgICAgIGNhbmRpZGF0ZXMgPSBzY2FuQ2FuZGlkYXRlcyhib2FyZCwgc3RvbmUpO1xuICAgICAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPiAwKSBjb250aW51ZTtcblxuICAgICAgICBzdG9uZSA9IHJldmVyc2Uoc3RvbmUpO1xuICAgICAgICBjYW5kaWRhdGVzID0gc2NhbkNhbmRpZGF0ZXMoYm9hcmQsIHN0b25lKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdhbWVOb2RlKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lKSB7XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IHNjYW5DYW5kaWRhdGVzKGJvYXJkLCBzdG9uZSk7XG4gICAgY29uc3QgcnMgPSByZXZlcnNlKHN0b25lKTtcbiAgICBjb25zdCBub2RlczogR2FtZU5vZGVbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgY29uc3QgW3gsIHldID0gY2FuZGlkYXRlWzBdO1xuICAgICAgICBsZXQgbmV4dEJvYXJkID0gY2xvbmVCb2FyZChib2FyZCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBwdXRTdG9uZShuZXh0Qm9hcmQsIHN0b25lLCB4LCB5KTtcbiAgICAgICAgaWYgKGRpZmYgPD0gMCkgdGhyb3cgbmV3IEVycm9yKCk7XG5cbiAgICAgICAgY29uc3QgcGxheUJvYXJkID0gY2xvbmVCb2FyZChuZXh0Qm9hcmQpO1xuICAgICAgICBwbGF5b3V0KHBsYXlCb2FyZCwgc3RvbmUpO1xuICAgICAgICBjb25zdCBzY29yZSA9IGV2YWxTY29yZShuZXh0Qm9hcmQsIHN0b25lKTtcblxuICAgICAgICBub2Rlcy5wdXNoKHtcbiAgICAgICAgICAgIGJvYXJkOiBuZXh0Qm9hcmQsXG4gICAgICAgICAgICBzdG9uZTogcnMsXG4gICAgICAgICAgICBub2RlczogW10sXG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHNjb3JlOiBzY29yZSxcbiAgICAgICAgICAgIG46IDEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZXM7XG59XG5cbmZ1bmN0aW9uIGNob2ljZU5vZGUobm9kZXM6IEdhbWVOb2RlW10sIHN0b25lOiBTdG9uZSkge1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMCkgdGhyb3cgbmV3IEVycm9yKCk7XG4gXG4gICAgY29uc3Qgc3RvbmUwID0gc3RvbmU7XG5cbiAgICBjb25zdCBmb290cHJpbnRzID0gW107XG4gICAgY29uc3QgdGhyZXNob2xkID0gNDtcbiAgICB3aGlsZSAobm9kZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xuXG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbiArPSBub2Rlc1tpXS5uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdG9uZSA9PT0gc3RvbmUwKSB7XG4gICAgICAgICAgICBsZXQgbWF4U2NvcmUgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBldmFsVWNiMShub2Rlc1tpXSwgbik7XG4gICAgICAgICAgICAgICAgaWYgKG1heFNjb3JlIDwgc2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4U2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtaW5TY29yZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IGV2YWxVY2IxKG5vZGVzW2ldLCBuKTtcbiAgICAgICAgICAgICAgICBpZiAobWluU2NvcmUgPiBzY29yZSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5TY29yZSA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA8IDApIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaW5kZXhdO1xuICAgICAgICBmb290cHJpbnRzLnB1c2gobm9kZSk7XG5cbiAgICAgICAgc3RvbmUgPSBub2RlLnN0b25lO1xuICAgICAgICBub2RlcyA9IG5vZGUubm9kZXM7XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMCAmJiBub2RlLm4gPiB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgIG5vZGUubm9kZXMgPSBnYW1lTm9kZShub2RlLmJvYXJkLCBzdG9uZSk7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2Rlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHN0b25lID0gcmV2ZXJzZShzdG9uZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5ub2RlcyA9IGdhbWVOb2RlKG5vZGUuYm9hcmQsIHJldmVyc2Uoc3RvbmUpKTtcbiAgICAgICAgICAgICAgICBzdG9uZSA9IHJldmVyc2Uoc3RvbmUpO1xuICAgICAgICAgICAgICAgIG5vZGUuc3RvbmUgPSBzdG9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGVzID0gbm9kZS5ub2RlcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG5vZGUgPSBmb290cHJpbnRzW2Zvb3RwcmludHMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgcGxheUJvYXJkID0gY2xvbmVCb2FyZChub2RlLmJvYXJkKTtcbiAgICBwbGF5b3V0KHBsYXlCb2FyZCwgc3RvbmUpO1xuICAgIGNvbnN0IHNjb3JlID0gZXZhbFNjb3JlKHBsYXlCb2FyZCwgc3RvbmUwKTtcbiAgICBmb3IgKGNvbnN0IG4gb2YgZm9vdHByaW50cykge1xuICAgICAgICBuLnNjb3JlICs9IHNjb3JlO1xuICAgICAgICArK24ubjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhbmRpZGF0ZUxpc3QoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUsIGxvb3BzOiBudW1iZXIpOiBDYW5kaWRhdGVbXSB7XG4gICAgY29uc3Qgbm9kZXMgPSBnYW1lTm9kZShib2FyZCwgc3RvbmUpO1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm4gW107ICAgICAgICBcbiAgICB9XG5cbiAgICBjb25zdCB0dXJucyA9IGNvdW50VHVybnMoYm9hcmQpO1xuICAgIGlmICh0dXJucyA9PSAxKSB7XG4gICAgICAgIHJldHVybiBBbHBoYUJldGEuY2FuZGlkYXRlTGlzdChib2FyZCwgc3RvbmUsIDApO1xuICAgIH1cbiAgICBpZiAoNjQgLSB0dXJucyA8PSA1KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhbGdvcml0aG0gLT4gYWxwaGEtYmV0YScpO1xuICAgICAgICByZXR1cm4gQWxwaGFCZXRhLmNhbmRpZGF0ZUxpc3QoYm9hcmQsIHN0b25lLCA1KTtcbiAgICB9XG5cbiAgICBub2Rlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGR4ID0gYS54IC0gYi54O1xuICAgICAgICBpZiAoZHggIT09IDApIHJldHVybiBkeDtcbiAgICAgICAgcmV0dXJuIGEueSAtIGIueTtcbiAgICB9KTtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbG9vcHM7ICsraikge1xuICAgICAgICBjaG9pY2VOb2RlKG5vZGVzLCBzdG9uZSk7XG4gICAgfVxuXG4gICAgbGV0IHMgPSAwO1xuICAgIGNvbnN0IGNhbmRpZGF0ZXM6IENhbmRpZGF0ZVtdID0gW107XG4gICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaChbW25vZGUueCwgbm9kZS55XSwgbm9kZS5zY29yZSAvIG5vZGUubiwgbm9kZS5uXSk7XG4gICAgICAgIHMgKz0gbm9kZS5uO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCduMScsIG5vZGUueCwgbm9kZS55LCBub2RlLm4sIG5vZGUuc2NvcmUgLyBub2RlLm4pO1xuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbn1cblxuZXhwb3J0IHsgY2FuZGlkYXRlTGlzdCB9OyIsIi8qKlxuICogTW9udGUgQ2FybG8gdHJlZSBzZWFyY2ggKE1DVFMpXG4gKi9cbmltcG9ydCB7XG4gICAgQm9hcmQsIFN0b25lLCBDYW5kaWRhdGUsIFxuICAgIGNsb25lQm9hcmQsIHJldmVyc2UsIHB1dFN0b25lXG59IGZyb20gJy4uL2JvYXJkJztcblxuZnVuY3Rpb24gY2FuZGlkYXRlTGlzdChib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSk6IENhbmRpZGF0ZVtdIHtcbiAgICBjb25zdCBycyA9IHJldmVyc2Uoc3RvbmUpO1xuXG4gICAgbGV0IG5leHRCb2FyZCA9IGNsb25lQm9hcmQoYm9hcmQpO1xuXG4gICAgbGV0IG1heERpZmYgPSAwO1xuICAgIGxldCBsaXN0OiBDYW5kaWRhdGVbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gcHV0U3RvbmUobmV4dEJvYXJkLCBzdG9uZSwgaSwgaik7XG4gICAgICAgICAgICBpZiAoZGlmZiA8PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKG1heERpZmYgPCBkaWZmKSB7XG4gICAgICAgICAgICAgICAgbWF4RGlmZiA9IGRpZmY7XG4gICAgICAgICAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChbW2ksIGpdLCBkaWZmLCAxXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1heERpZmYgPT09IGRpZmYpIHtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goW1tpLCBqXSwgZGlmZiwgMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEJvYXJkID0gY2xvbmVCb2FyZChib2FyZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydCB7IGNhbmRpZGF0ZUxpc3QgfTsiLCJpbXBvcnQge1xuICAgIEUsIEIsIFcsXG4gICAgZGlycyxcbiAgICBNSU5fU0NPUkUsIE1BWF9TQ09SRSxcbiAgICBCb2FyZCwgU3RvbmUsIENhbmRpZGF0ZSxcbiAgICBuZXdCb2FyZCwgcHV0U3RvbmUsXG4gICAgcmV2ZXJzZSwgaGFzQ2FuZGlkYXRlcyxcbiAgICBzY2FuQ2FuZGlkYXRlcyxcbiAgICBldmFsU2NvcmUsIGNvdW50VHVybnMsIGNvdW50U3RvbmVzXG59IGZyb20gJy4vYm9hcmQnO1xuaW1wb3J0ICogYXMgQWxwaGFCZXRhIGZyb20gJy4vbWV0aG9kL2FscGhhYmV0YSc7XG5pbXBvcnQgKiBhcyBNQ1RTIGZyb20gJy4vbWV0aG9kL21jdHMnO1xuaW1wb3J0ICogYXMgR3JlZWR5IGZyb20gJy4vbWV0aG9kL2dyZWVkeSc7XG5cbmNvbnN0IHZlcnNpb24gPSAnMC4xJztcblxuZnVuY3Rpb24gbnBjQmVzdENhbmRpZGF0ZXMoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUsIGFsZ29yaXRobTogc3RyaW5nKSB7XG4gICAgbGV0IG1heFNjb3JlID0gTUlOX1NDT1JFO1xuICAgIGxldCBsaXN0ID0gW107XG4gICAgbGV0IGNhbmRpZGF0ZXM6IENhbmRpZGF0ZVtdO1xuICAgIGlmIChhbGdvcml0aG0gPT09ICdtY3RzJykge1xuICAgICAgICBjb25zdCBsb29wczogbnVtYmVyID0gMTAwMDA7XG4gICAgICAgIGNhbmRpZGF0ZXMgPSBNQ1RTLmNhbmRpZGF0ZUxpc3QoYm9hcmQsIHN0b25lLCBsb29wcyk7XG4gICAgfSBlbHNlIGlmIChhbGdvcml0aG0gPT09ICdhbHBoYWJldGEnKSB7XG4gICAgICAgIGNvbnN0IGRlcHRoOiBudW1iZXIgPSA1O1xuICAgICAgICBjYW5kaWRhdGVzID0gQWxwaGFCZXRhLmNhbmRpZGF0ZUxpc3QoYm9hcmQsIHN0b25lLCBkZXB0aCk7XG4gICAgfSBlbHNlIGlmIChhbGdvcml0aG0gPT09ICdtY3RzJykge1xuICAgICAgICBjYW5kaWRhdGVzID0gR3JlZWR5LmNhbmRpZGF0ZUxpc3QoYm9hcmQsIHN0b25lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuICAgICAgICBjb25zdCBbaWosIHNjb3JlXSA9IGNhbmRpZGF0ZTtcbiAgICAgICAgaWYgKG1heFNjb3JlIDwgc2NvcmUpIHtcbiAgICAgICAgICAgIG1heFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICBsaXN0ID0gW107XG4gICAgICAgICAgICBsaXN0LnB1c2goaWopO1xuICAgICAgICB9IGVsc2UgaWYgKG1heFNjb3JlID09IHNjb3JlKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goaWopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCk7XG4gICAgcmV0dXJuIGxpc3RbaW5kZXhdO1xufVxuXG5mdW5jdGlvbiBucGMoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUsIGFsZ29yaXRobTogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ25wYycsIGFsZ29yaXRobSk7XG5cbiAgICBjb25zdCBucyA9IHJldmVyc2Uoc3RvbmUpO1xuICAgIGlmICghaGFzQ2FuZGlkYXRlcyhib2FyZCwgc3RvbmUpKSB7XG4gICAgICAgIGFsZXJ0KCdOUEMgbXVzdCBwYXNzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IGlqID0gbnBjQmVzdENhbmRpZGF0ZXMoYm9hcmQsIHN0b25lLCBhbGdvcml0aG0pO1xuICAgICAgICBpZiAoIWlqKSB7XG4gICAgICAgICAgICBhbGVydChcImlsbGVnYWwgc3RhdGUgMVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFtpLCBqXSA9IGlqO1xuICAgICAgICBjb25zdCBkaWZmMSA9IHB1dFN0b25lKGJvYXJkLCBzdG9uZSwgaSwgaik7XG4gICAgICAgIGlmIChkaWZmMSA8PSAwKSB7XG4gICAgICAgICAgICBhbGVydChcImlsbGVnYWwgc3RhdGUgMlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzQ2FuZGlkYXRlcyhib2FyZCwgbnMpIHx8ICFoYXNDYW5kaWRhdGVzKGJvYXJkLCBzdG9uZSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGFsZXJ0KCdZb3UgbXVzdCBwYXNzLicpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWxlcnRHYW1lUmVzdWx0KGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjb3JlID0gZXZhbFNjb3JlKGJvYXJkLCBzdG9uZSk7XG4gICAgICAgIGlmIChzY29yZSA9PSAwKSB7XG4gICAgICAgICAgICBhbGVydChcIkRyYXdcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NvcmUgPiAwKSB7XG4gICAgICAgICAgICBhbGVydChcIldpblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiTG9zZVwiKTtcbiAgICAgICAgfVxuICAgIH0sIDEwMCk7XG59XG5cbmNsYXNzIEdhbWUge1xuXG4gICAgLy9zY29yaW5nQWxnb3JpdGhtOiBzdHJpbmcgPSAnYWxwaGFiZXRhJztcbiAgICBzY29yaW5nQWxnb3JpdGhtOiBzdHJpbmcgPSAnbWN0cyc7XG4gICAgbnBjQWxnb3JpdGhtOiBzdHJpbmcgPSAnbWN0cyc7XG5cbiAgICB5b3VyU3RvbmU6IFN0b25lID0gQjtcbiAgICBucGNFbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIHNlYXJjaERlcHRoOiBudW1iZXIgPSA1O1xuICAgIHNjb3JlVmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgc3RvbmU6IFN0b25lO1xuICAgIGJvYXJkOiBCb2FyZDtcblxuICAgIGRpdjogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICB0aGlzLmJvYXJkID0gbmV3Qm9hcmQoKTtcbiAgICAgICAgdGhpcy5zdG9uZSA9IEI7XG4gICAgICAgIHRoaXMudXBkYXRlQm9hcmQodHJ1ZSwgdGhpcy5zY29yZVZpc2libGUpO1xuICAgIH1cblxuICAgIHVwZGF0ZUJvYXJkKGJ1dHRvbkVuYWJsZWQ6IGJvb2xlYW4sIHNjb3JlVmlzaWJsZTogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcbiAgICAgICAgZGl2LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJvYXJkRG9tKGJ1dHRvbkVuYWJsZWQsIHNjb3JlVmlzaWJsZSkpO1xuICAgICAgICBkaXYuYXBwZW5kKHRoaXMuY3JlYXRlSW5mb0RvbSgpKTtcbiAgICAgICAgZGl2LmFwcGVuZCh0aGlzLmNyZWF0ZVNjb3JlRG9tKCkpO1xuICAgICAgICBkaXYuYXBwZW5kKHRoaXMuY3JlYXRlQ29udHJvbGxlckRvbSgpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDb250cm9sbGVyRG9tKCkge1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcblxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gJ1Njb3JlJztcbiAgICAgICAgICAgIGxhYmVsLmh0bWxGb3IgPSAnc2NvcmUtY2hlY2snOyBcblxuICAgICAgICAgICAgY29uc3QgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGgpO1xuXG4gICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBjaGVja2JveC5pZCA9ICdzY29yZS1jaGVjaydcbiAgICAgICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29yZVZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm9hcmQodHJ1ZSwgdGhpcy5zY29yZVZpc2libGUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0aGlzLnNjb3JlVmlzaWJsZTtcbiAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTmFtZSA9ICdjb250cm9sJztcblxuICAgICAgICAgICAgY29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuXG4gICAgICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgICAgIHNlbGVjdC5pZCA9ICdzY29yZS1hbGdvcml0aG0nXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFsZ29yaXRobSBvZiBbJ2dyZWVkeScsICdhbHBoYWJldGEnLCAnbWN0cyddKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IGFsZ29yaXRobS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGFsZ29yaXRobS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjb3JpbmdBbGdvcml0aG0gPT0gYWxnb3JpdGhtKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIHNlbGVjdC5zZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29yaW5nQWxnb3JpdGhtID0gb3B0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FsZ29yaXRobTogJywgdGhpcy5zY29yaW5nQWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY29yZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb2FyZCh0cnVlLCB0aGlzLnNjb3JlVmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGVjdC5jbGFzc05hbWUgPSAnY29udHJvbCc7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkU2NvcmluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZFNjb3JpbmcuYXBwZW5kQ2hpbGQoc2VsZWN0KTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkU2NvcmluZyk7XG5cbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9ICdOUEMnO1xuICAgICAgICAgICAgbGFiZWwuaHRtbEZvciA9ICducGMtY2hlY2snOyBcblxuICAgICAgICAgICAgY29uc3QgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGgpO1xuXG4gICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBjaGVja2JveC5pZCA9ICducGMtY2hlY2snO1xuICAgICAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgICAgICBjaGVja2JveC5vbmNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5wY0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnBjRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdGhpcy5ucGNFbmFibGVkO1xuICAgICAgICAgICAgY2hlY2tib3guY2xhc3NOYW1lID0gJ2NvbnRyb2wnO1xuXG4gICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgc2VsZWN0LmlkID0gJ25wYy1hbGdvcml0aG0nXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFsZ29yaXRobSBvZiBbJ2dyZWVkeScsICdhbHBoYWJldGEnLCAnbWN0cyddKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IGFsZ29yaXRobS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGFsZ29yaXRobS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5wY0FsZ29yaXRobSA9PSBhbGdvcml0aG0pIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3Qub25jaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvcHQgb2Ygc2VsZWN0LnNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5wY0FsZ29yaXRobSA9IG9wdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhbGdvcml0aG06ICcsIHRoaXMubnBjQWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY29yZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb2FyZCh0cnVlLCB0aGlzLnNjb3JlVmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGVjdC5jbGFzc05hbWUgPSAnY29udHJvbCc7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkQWxnb3JpdGhtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkQWxnb3JpdGhtLmFwcGVuZENoaWxkKHNlbGVjdCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZEFsZ29yaXRobSk7XG5cbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRoKTtcblxuICAgICAgICAgICAgY29uc3QgYnV0dG9uUmVzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgYnV0dG9uUmVzZXQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgYnV0dG9uUmVzZXQudmFsdWUgPSAnUmVzZXQnO1xuICAgICAgICAgICAgYnV0dG9uUmVzZXQub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkID0gbmV3Qm9hcmQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b25lID0gQjtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJvYXJkKHRydWUsIHRoaXMuc2NvcmVWaXNpYmxlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBidXR0b25SZXNldC5jbGFzc05hbWUgPSAnY29udHJvbCc7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGJ1dHRvblJlc2V0KTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YWJsZTtcbiAgICB9XG5cbiAgICBjcmVhdGVJbmZvRG9tKCkge1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcblxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcblxuICAgICAgICAgICAgY29uc3QgdGhOZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgICAgICAgIHRoTmV4dC5jbGFzc05hbWUgPSAnaW5mbyc7XG4gICAgICAgICAgICB0aE5leHQuaW5uZXJIVE1MID0gJ05leHQnO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGhOZXh0KTtcblxuICAgICAgICAgICAgY29uc3QgdGhUdXJuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgICAgICAgIHRoVHVybi5jbGFzc05hbWUgPSAnaW5mbyc7XG4gICAgICAgICAgICB0aFR1cm4uaW5uZXJIVE1MID0gJ1R1cm4nO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGhUdXJuKTtcblxuICAgICAgICAgICAgY29uc3QgdGhWZXJzaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgICAgICAgIHRoVmVyc2lvbi5jbGFzc05hbWUgPSAnaW5mbyc7XG4gICAgICAgICAgICB0aFZlcnNpb24uaW5uZXJIVE1MID0gJ1ZlcnNpb24nO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGhWZXJzaW9uKTtcblxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvbmUgIT09IEVcbiAgICAgICAgICAgICAgICAgICAgJiYgIWhhc0NhbmRpZGF0ZXModGhpcy5ib2FyZCwgdGhpcy5zdG9uZSlcbiAgICAgICAgICAgICAgICAgICAgJiYgIWhhc0NhbmRpZGF0ZXModGhpcy5ib2FyZCwgcmV2ZXJzZSh0aGlzLnN0b25lKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b25lID0gRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkTmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9uZSA9PSBCKSB7XG4gICAgICAgICAgICAgICAgdGROZXh0LmNsYXNzTmFtZSA9ICdiIGluZm8nO1xuICAgICAgICAgICAgICAgIHRkTmV4dC5pbm5lckhUTUwgPSAn4pePJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdG9uZSA9PSBXKSB7XG4gICAgICAgICAgICAgICAgdGROZXh0LmNsYXNzTmFtZSA9ICd3IGluZm8nO1xuICAgICAgICAgICAgICAgIHRkTmV4dC5pbm5lckhUTUwgPSAn4pePJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGROZXh0LmlubmVySFRNTCA9ICdHYW1lIEVuZCc7XG4gICAgICAgICAgICAgICAgdGROZXh0LmNsYXNzTmFtZSA9ICdpbmZvJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkTmV4dCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkVHVybiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZFR1cm4uY2xhc3NOYW1lID0gJ2luZm8nO1xuXG4gICAgICAgICAgICBjb25zdCBzdG9uZXMgPSBjb3VudFR1cm5zKHRoaXMuYm9hcmQpO1xuICAgICAgICAgICAgdGRUdXJuLmlubmVySFRNTCA9IChzdG9uZXMgLSAzKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRUdXJuKTtcblxuICAgICAgICAgICAgY29uc3QgdGRWZXJzaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkVmVyc2lvbi5jbGFzc05hbWUgPSAnaW5mbyc7XG4gICAgICAgICAgICB0ZFZlcnNpb24uaW5uZXJIVE1MID0gdmVyc2lvbjtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkVmVyc2lvbik7XG5cbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxuXG4gICAgY3JlYXRlU2NvcmVEb20oKSB7XG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuXG4gICAgICAgICAgICBjb25zdCB0aE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICAgICAgdGhOYW1lLmNsYXNzTmFtZSA9ICdzY29yZSc7XG4gICAgICAgICAgICB0aE5hbWUuaW5uZXJIVE1MID0gJ05hbWUnO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGhOYW1lKTtcblxuICAgICAgICAgICAgY29uc3QgdGhCbGFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICB0aEJsYWNrLmNsYXNzTmFtZSA9ICdzY29yZSc7XG4gICAgICAgICAgICB0aEJsYWNrLmlubmVySFRNTCA9ICdCbGFjayc7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aEJsYWNrKTtcblxuICAgICAgICAgICAgY29uc3QgdGhXaGl0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICB0aFdoaXRlLmNsYXNzTmFtZSA9ICdzY29yZSc7XG4gICAgICAgICAgICB0aFdoaXRlLmlubmVySFRNTCA9ICdXaGl0ZSc7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aFdoaXRlKTtcblxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBiU3RvbmVzID0gY291bnRTdG9uZXModGhpcy5ib2FyZCwgQik7XG4gICAgICAgIGNvbnN0IHdTdG9uZXMgPSBjb3VudFN0b25lcyh0aGlzLmJvYXJkLCBXKTtcbiAgICAgICAgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuXG4gICAgICAgICAgICBjb25zdCB0ZExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkTGFiZWwuY2xhc3NOYW1lID0gJ3Njb3JlJztcbiAgICAgICAgICAgIHRkTGFiZWwuaW5uZXJIVE1MID0gJ1N0b25lcyc7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZExhYmVsKTtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHRkQmxhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGRCbGFjay5jbGFzc05hbWUgPSAnc2NvcmUnO1xuICAgICAgICAgICAgdGRCbGFjay5pbm5lckhUTUwgPSBiU3RvbmVzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZEJsYWNrKTtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHRkV2hpdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGRXaGl0ZS5jbGFzc05hbWUgPSAnc2NvcmUnO1xuICAgICAgICAgICAgdGRXaGl0ZS5pbm5lckhUTUwgPSB3U3RvbmVzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFdoaXRlKTtcblxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGRMYWJlbC5jbGFzc05hbWUgPSAnc2NvcmUnO1xuICAgICAgICAgICAgdGRMYWJlbC5pbm5lckhUTUwgPSAnU2NvcmUnO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRMYWJlbCk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0ZEJsYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkQmxhY2suY2xhc3NOYW1lID0gJ3Njb3JlJztcbiAgICAgICAgICAgIHRkQmxhY2suaW5uZXJIVE1MID0gKGJTdG9uZXMgLSB3U3RvbmVzKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRCbGFjayk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0ZFdoaXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkV2hpdGUuY2xhc3NOYW1lID0gJ3Njb3JlJztcbiAgICAgICAgICAgIHRkV2hpdGUuaW5uZXJIVE1MID0gKHdTdG9uZXMgLSBiU3RvbmVzKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRXaGl0ZSk7XG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxuXG4gICAgY3JlYXRlQm9hcmREb20oYnV0dG9uRW5hYmxlZDogYm9vbGVhbiwgc2NvcmVWaXNpYmxlOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHlvdXJTdG9uZSA9IHRoaXMueW91clN0b25lO1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICAgICAgdGFibGUuY2xhc3NOYW1lID0gJ2JvYXJkJztcbiAgICBcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuc3RvbmU7XG5cbiAgICAgICAgY29uc3QgbWN0c0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIGxldCBsaXN0OiBDYW5kaWRhdGVbXTtcbiAgICAgICAgaWYgKHNjb3JlVmlzaWJsZSAmJiBidXR0b25FbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2NvcmluZycsIHRoaXMuc2NvcmluZ0FsZ29yaXRobSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zY29yaW5nQWxnb3JpdGhtID09PSAnbWN0cycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb29wcyA9IDEwMDAwO1xuICAgICAgICAgICAgICAgIGxpc3QgPSBNQ1RTLmNhbmRpZGF0ZUxpc3QodGhpcy5ib2FyZCwgcywgbG9vcHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjb3JpbmdBbGdvcml0aG0gPT09ICdhbHBoYWJldGEnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVwdGggPSA1O1xuICAgICAgICAgICAgICAgIGxpc3QgPSBBbHBoYUJldGEuY2FuZGlkYXRlTGlzdCh0aGlzLmJvYXJkLCBzLCBkZXB0aCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2NvcmluZ0FsZ29yaXRobSA9PT0gJ2dyZWVkeScpIHtcbiAgICAgICAgICAgICAgICBsaXN0ID0gR3JlZWR5LmNhbmRpZGF0ZUxpc3QodGhpcy5ib2FyZCwgcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYWxnb3JpdGhtOiAnKyB0aGlzLnNjb3JpbmdBbGdvcml0aG0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbkVuYWJsZWQpIHtcbiAgICAgICAgICAgIGxpc3QgPSBzY2FuQ2FuZGlkYXRlcyh0aGlzLmJvYXJkLCBzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0b3RhbENvdW50ID0gMDtcbiAgICAgICAgbGV0IG1heFNjb3JlID0gTUlOX1NDT1JFO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBsaXN0KSB7XG4gICAgICAgICAgICBjb25zdCBbaWosIHNjb3JlLCBjb3VudF0gPSBjYW5kaWRhdGU7XG4gICAgICAgICAgICBtYXhTY29yZSA9IE1hdGgubWF4KG1heFNjb3JlLCBzY29yZSk7XG4gICAgICAgICAgICB0b3RhbENvdW50ICs9IGNvdW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICAgICAgdHIuY2xhc3NOYW1lID0gJ2JvYXJkJztcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvbmUgPSB0aGlzLmJvYXJkW2ldW2pdO1xuICAgICAgICAgICAgICAgIGlmIChzdG9uZSA9PT0gQikge1xuICAgICAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSAn4pePJztcbiAgICAgICAgICAgICAgICAgICAgdGQuY2xhc3NOYW1lID0gJ2JvYXJkIGInO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RvbmUgPT0gVykge1xuICAgICAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSAn4pePJztcbiAgICAgICAgICAgICAgICAgICAgdGQuY2xhc3NOYW1lID0gJ2JvYXJkIHcnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRkLmNsYXNzTmFtZSA9ICdib2FyZCc7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzY29yZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiBsaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbaTEsIGoxXSA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaTEgPT09IGkgJiYgajEgPT09IGopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSA9IGRhdGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29yZSA9PSBNSU5fU0NPUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gJ2NhbmRpZGF0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNjb3JlID09IG1heFNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09IEIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdiZXN0LWNhbmRpZGF0ZS1iJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnZhbHVlID0gTWF0aC5yb3VuZChzY29yZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHMgPT09IFcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdiZXN0LWNhbmRpZGF0ZS13JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnZhbHVlID0gTWF0aC5yb3VuZChzY29yZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09PSBCKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSAnY2FuZGlkYXRlLWInO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24udmFsdWUgPSBNYXRoLnJvdW5kKHNjb3JlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocyA9PT0gVykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gJ2NhbmRpZGF0ZS13JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnZhbHVlID0gTWF0aC5yb3VuZChzY29yZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gcHV0U3RvbmUodGhpcy5ib2FyZCwgdGhpcy5zdG9uZSwgaSwgaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPD0gMCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb2FyZChmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnMgPSByZXZlcnNlKHRoaXMuc3RvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzQ2FuZGlkYXRlcyh0aGlzLmJvYXJkLCB0aGlzLnN0b25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIWhhc0NhbmRpZGF0ZXModGhpcy5ib2FyZCwgbnMpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b25lID0gRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRHYW1lUmVzdWx0KHRoaXMuYm9hcmQsIHlvdXJTdG9uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJvYXJkKGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubnBjRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnBjKHRoaXMuYm9hcmQsIG5zLCB0aGlzLm5wY0FsZ29yaXRobSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0NhbmRpZGF0ZXModGhpcy5ib2FyZCwgdGhpcy5zdG9uZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b25lID0gRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydEdhbWVSZXN1bHQodGhpcy5ib2FyZCwgeW91clN0b25lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNDYW5kaWRhdGVzKHRoaXMuYm9hcmQsIG5zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvbmUgPSBucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWhhc0NhbmRpZGF0ZXModGhpcy5ib2FyZCwgdGhpcy5zdG9uZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b25lID0gRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJvYXJkKHRydWUsIHRoaXMuc2NvcmVWaXNpYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxufVxuXG5leHBvcnQgeyBHYW1lLCBTdG9uZSwgQiwgVywgRSB9OyIsImltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9HYW1lXCI7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICBpbml0KCk7XG59KTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdhbWUuZGl2KTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=