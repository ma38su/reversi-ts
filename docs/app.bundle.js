!function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(o,r,function(e){return n[e]}.bind(null,r));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=4)}([function(n,e,t){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t=n[1]||"",o=n[3];if(!o)return t;if(e&&"function"==typeof btoa){var r=(c=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(a," */")),i=o.sources.map((function(n){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(n," */")}));return[t].concat(i).concat([r]).join("\n")}var c,s,a;return[t].join("\n")}(e,n);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,o){"string"==typeof n&&(n=[[null,n,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(r[c]=!0)}for(var s=0;s<n.length;s++){var a=[].concat(n[s]);o&&r[a[0]]||(t&&(a[2]?a[2]="".concat(t," and ").concat(a[2]):a[2]=t),e.push(a))}},e}},function(n,e,t){var o=t(2),r=t(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);n.exports=r.locals||{}},function(n,e,t){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),c=[];function s(n){for(var e=-1,t=0;t<c.length;t++)if(c[t].identifier===n){e=t;break}return e}function a(n,e){for(var t={},o=[],r=0;r<n.length;r++){var i=n[r],a=e.base?i[0]+e.base:i[0],l=t[a]||0,d="".concat(a," ").concat(l);t[a]=l+1;var A=s(d),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==A?(c[A].references++,c[A].updater(h)):c.push({identifier:d,updater:m(h,e),references:1}),o.push(d)}return o}function l(n){var e=document.createElement("style"),o=n.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(n){e.setAttribute(n,o[n])})),"function"==typeof n.insert)n.insert(e);else{var c=i(n.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(e)}return e}var d,A=(d=[],function(n,e){return d[n]=e,d.filter(Boolean).join("\n")});function h(n,e,t,o){var r=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(n.styleSheet)n.styleSheet.cssText=A(e,r);else{var i=document.createTextNode(r),c=n.childNodes;c[e]&&n.removeChild(c[e]),c.length?n.insertBefore(i,c[e]):n.appendChild(i)}}function u(n,e,t){var o=t.css,r=t.media,i=t.sourceMap;if(r?n.setAttribute("media",r):n.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleSheet)n.styleSheet.cssText=o;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(o))}}var f=null,p=0;function m(n,e){var t,o,r;if(e.singleton){var i=p++;t=f||(f=l(e)),o=h.bind(null,t,i,!1),r=h.bind(null,t,i,!0)}else t=l(e),o=u.bind(null,t,e),r=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return o(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;o(n=e)}else r()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var t=a(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var o=0;o<t.length;o++){var r=s(t[o]);c[r].references--}for(var i=a(n,e),l=0;l<t.length;l++){var d=s(t[l]);0===c[d].references&&(c[d].updater(),c.splice(d,1))}t=i}}}},function(n,e,t){"use strict";t.r(e);var o=t(0),r=t.n(o)()(!0);r.push([n.i,"body {\n    margin: 0;\n    overflow: hidden;\n    background-color: #AAA;\n}\n\ninput {\n    vertical-align: middle;\n}\n\n.control {\n    background-color: #CCC;\n    color: black;\n    border: solid 0;\n    font-size: 10pt;\n    vertical-align: middle;\n}\n\n.b {\n    color: #000;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.w {\n    color: #fff;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.candidate {\n    background-color: #090;\n    border: solid 0;\n    font-size: 12pt;\n    color: green;\n    width: 100%;\n    height: 100%;\n}\n\n.candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #222;\n}\n.candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #DDD;\n}\n\n.best-candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #000;\n    font-weight: bold;\n}\n.best-candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    font-weight: bold;\n}\n\nul {\n    list-style-type: none;\n}\n\n.score {\n    color: #000;\n}\n\ntable.board {\n    float: left;\n    padding: 0px;\n    margin: 5px;\n    border-collapse: none;\n    border-spacing: 0;\n}\n\ntr.board {\n    border-collapse: none;\n    border-spacing: 0;\n    padding: 0px;\n    margin: 0px;\n}\n\ntd.board {\n    width: 5;\n    height: 5;\n    padding: 0px;\n    margin: 1px;\n    width: 50px;\n    height: 50px;\n    background-color: green;\n    border: 1px solid #bbb;\n    text-align: center;\n}\n\nth.score, td.score {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}\n\nth.info, td.info {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}","",{version:3,sources:["style.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,gBAAgB;IAChB,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;IACtB,YAAY;IACZ,eAAe;IACf,eAAe;IACf,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,sBAAsB;IACtB,eAAe;IACf,eAAe;IACf,YAAY;IACZ,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;AACf;AACA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;IACX,iBAAiB;AACrB;AACA;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,WAAW;IACX,iBAAiB;AACrB;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,WAAW;IACX,qBAAqB;IACrB,iBAAiB;AACrB;;AAEA;IACI,qBAAqB;IACrB,iBAAiB;IACjB,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,QAAQ;IACR,SAAS;IACT,YAAY;IACZ,WAAW;IACX,WAAW;IACX,YAAY;IACZ,uBAAuB;IACvB,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,iBAAiB;AACrB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,iBAAiB;AACrB",file:"style.css",sourcesContent:["body {\n    margin: 0;\n    overflow: hidden;\n    background-color: #AAA;\n}\n\ninput {\n    vertical-align: middle;\n}\n\n.control {\n    background-color: #CCC;\n    color: black;\n    border: solid 0;\n    font-size: 10pt;\n    vertical-align: middle;\n}\n\n.b {\n    color: #000;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.w {\n    color: #fff;\n    font-size: 16pt;\n    text-align: center;\n}\n\n.candidate {\n    background-color: #090;\n    border: solid 0;\n    font-size: 12pt;\n    color: green;\n    width: 100%;\n    height: 100%;\n}\n\n.candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #222;\n}\n.candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #090;\n    width: 100%;\n    height: 100%;\n    color: #DDD;\n}\n\n.best-candidate-b {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #000;\n    font-weight: bold;\n}\n.best-candidate-w {\n    border: solid 0;\n    font-size: 12pt;\n    background-color: #0B0;\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    font-weight: bold;\n}\n\nul {\n    list-style-type: none;\n}\n\n.score {\n    color: #000;\n}\n\ntable.board {\n    float: left;\n    padding: 0px;\n    margin: 5px;\n    border-collapse: none;\n    border-spacing: 0;\n}\n\ntr.board {\n    border-collapse: none;\n    border-spacing: 0;\n    padding: 0px;\n    margin: 0px;\n}\n\ntd.board {\n    width: 5;\n    height: 5;\n    padding: 0px;\n    margin: 1px;\n    width: 50px;\n    height: 50px;\n    background-color: green;\n    border: 1px solid #bbb;\n    text-align: center;\n}\n\nth.score, td.score {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}\n\nth.info, td.info {\n    width: 75px;\n    font-size: 10pt;\n    text-align: right;\n}"]}]),e.default=r},function(n,e,t){"use strict";t.r(e);const o=-1,r=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]];function i(n,e){const t=[];for(let o=0;o<8;++o)for(let i=0;i<8;++i)if(0==n[i][o])for(const s of r){const[r,a]=s;if(c(n,e,i,o,r,a)){t.push([[i,o],-65,0]);break}}return t}function c(n,e,t,o,r,i){const c=A(e);let s=0,a=t,l=o;for(;a+=r,l+=i,u(a,l);){const t=n[a][l];if(t!==c){if(t===e&&s>0)return!0;break}s++}return!1}function s(n,e){let t=0;for(let o=0;o<8;++o)for(let r=0;r<8;++r)n[o][r]==e&&++t;return t}function a(n){let e=0;for(let t=0;t<8;++t)for(let o=0;o<8;++o)0!==n[t][o]&&++e;return e-3}function l(n,e){let t=0;for(let o=0;o<8;++o)for(let r=0;r<8;++r){const i=n[o][r];i===e?++t:0!==i&&--t}return t}function d(n){const e=new Array(8);for(let t=0;t<8;++t){const o=n[t],r=new Array(8);for(let n=0;n<8;++n)r[n]=o[n];e[t]=r}return e}function A(n){return-1*n}function h(n,e,t,o){if(0!=n[t][o])return 0;let i=0;for(const c of r){const[r,s]=c;let a=0,l=t,d=o;for(;l+=r,d+=s,u(l,d);){const c=n[l][d];if(0===c)break;if(c===e){a>0&&(f(n,c,t,o,r,s,a),i+=a);break}a++}}return i>0&&(n[t][o]=e),i}function u(n,e){return 0<=n&&n<8&&0<=e&&e<8}function f(n,e,t,o,r,i,c){for(let s=0;s<c;++s)o+=i,n[t+=r][o]=e}function p(n,e){for(let t=0;t<8;++t)for(let o=0;o<8;++o)if(0==n[t][o])for(const i of r){const[r,c]=i;let s=1;for(;;){const i=t+r*s,a=o+c*s;if(!u(i,a))break;const l=n[i][a];if(0===l)break;if(l===e){if(s>1)return!0;break}s++}}return!1}function m(){const n=new Array(8);for(let e=0;e<n.length;++e)n[e]=new Array(8).fill(0);return n[3][3]=1,n[3][4]=o,n[4][3]=o,n[4][4]=1,n}function b(n,e,t){const o=A(e),r=[];let i=d(n);for(let c=0;c<8;++c)for(let s=0;s<8;++s){if(!(h(i,e,c,s)<=0)){if(t<=0)r.push([[c,s],-65,1]);else{const[n,a]=C(i,e,t-1,-65);if(n<65)r.push([[c,s],n,a]);else{const[n,a]=g(i,e,t-1,-65);n>-65?r.push([[c,s],n,a]):p(i,e)||p(i,o)||r.push([[c,s],l(i,e),1])}}i=d(n)}}return r}function g(n,e,t,o){const r=A(e);let i=0,c=-65,s=d(n);for(let a=0;a<8;++a)for(let A=0;A<8;++A){if(!(h(s,e,a,A)<=0)){if(t<=0){++i;const n=l(s,e);if(n>o)return[n,i];c=Math.max(c,n)}else{const[n,a]=C(s,e,t-1,c);if(i+=a,n<65){if(n>o)return[n,i];c=Math.max(c,n)}else{const[n,a]=g(s,e,t-1,o);if(i+=a,n>o)return[n,i];n>-65?c=Math.max(c,n):p(s,e)||p(s,r)||(c=Math.max(c,l(s,e)),++i)}}s=d(n)}}return[c,i]}function C(n,e,t,o){const r=A(e);let i=0,c=65,s=d(n);for(let a=0;a<8;++a)for(let A=0;A<8;++A){if(!(h(s,r,a,A)<=0)){if(t<=0){++i;const n=l(s,e);if(n<o)return[n,i];c=Math.min(c,n)}else{const[n,a]=g(s,e,t-1,c);if(i+=a,n>-65){if(n<o)return[n,i];c=Math.min(c,n)}else{const[n,a]=C(s,e,t-1,o);i+=a,n<65?c=Math.min(c,n):p(s,e)||p(s,r)||(c=Math.min(c,l(s,e)),++i)}}s=d(n)}}return[c,i]}function I(n,e){const t=n.score,o=n.n;return t/e+Math.sqrt(2*Math.log2(e)/o)}function B(n,e){let t=i(n,e);for(0==t.length&&(t=i(n,e=A(e)));t.length>0;){const o=Math.floor(t.length*Math.random()),[r]=t[o],[c,s]=r;if(h(n,e,c,s)<=0)throw new Error;t=i(n,e=A(e)),t.length>0||(t=i(n,e=A(e)))}}function E(n,e){const t=i(n,e),o=A(e),r=[];for(const i of t){const[t,c]=i[0];let s=d(n);if(h(s,e,t,c)<=0)throw new Error;B(d(s),e);const a=l(s,e);r.push({board:s,stone:o,nodes:[],x:t,y:c,score:a,n:1})}return r}function v(n,e){if(0==n.length)throw new Error;const t=e,o=[];for(;n.length>0;){let r=-1,i=0;for(let e=0;e<n.length;++e)i+=n[e].n;if(e===t){let e=Number.NEGATIVE_INFINITY;for(let t=0;t<n.length;++t){const o=I(n[t],i);e<o&&(e=o,r=t)}}else{let e=Number.POSITIVE_INFINITY;for(let t=0;t<n.length;++t){const o=I(n[t],i);e>o&&(e=o,r=t)}}if(r<0)throw new Error;const c=n[r];o.push(c),e=c.stone,0==(n=c.nodes).length&&c.n>4&&(c.nodes=E(c.board,e),0==c.nodes.length&&(e=A(e),c.nodes=E(c.board,A(e)),e=A(e),c.stone=e),n=c.nodes)}const r=d(o[o.length-1].board);B(r,e);const i=l(r,t);for(const n of o)n.score+=i,++n.n}function w(n,e,t){const o=E(n,e);if(0==o.length)return[];const r=a(n);if(1==r)return b(n,e,0);if(64-r<=5)return console.log("algorithm -> alpha-beta"),b(n,e,5);o.sort((n,e)=>{const t=n.x-e.x;return 0!==t?t:n.y-e.y});for(let n=0;n<t;++n)v(o,e);let i=0;const c=[];for(const n of o)c.push([[n.x,n.y],n.score/n.n,n.n]),i+=n.n;return c}function x(n,e,t){let o,r=-65,i=[];if("mcts"===t){o=w(n,e,1e4)}else{if("alphabeta"!==t)throw new Error;o=b(n,e,5)}for(const n of o){const[e,t]=n;r<t?(r=t,i=[],i.push(e)):r==t&&i.push(e)}return i[Math.floor(Math.random()*i.length)]}function M(n,e,t){console.log("npc",t);const o=A(e);if(p(n,e))for(;;){const r=x(n,e,t);if(!r)return void alert("illegal state 1");const[i,c]=r;if(h(n,e,i,c)<=0&&alert("illegal state 2"),p(n,o)||!p(n,e))break;alert("You must pass.")}else alert("NPC must pass.")}function y(n,e){setTimeout(()=>{const t=l(n,e);0==t?alert("Draw"):t>0?alert("Win"):alert("Lose")},100)}class k{constructor(){this.scoringAlgorithm="mcts",this.npcAlgorithm="alphabeta",this.yourStone=1,this.npcEnabled=!0,this.searchDepth=5,this.scoreVisible=!0,this.div=document.createElement("div"),this.board=m(),this.stone=1,this.updateBoard(!0,this.scoreVisible)}updateBoard(n,e){const t=this.div;t.innerHTML="",t.appendChild(this.createBoardDom(n,e)),t.append(this.createInfoDom()),t.append(this.createScoreDom()),t.append(this.createControllerDom())}createControllerDom(){const n=document.createElement("table");{const e=document.createElement("tr"),t=document.createElement("label");t.innerHTML="Score",t.htmlFor="score-check";const o=document.createElement("th");o.appendChild(t),e.appendChild(o);const r=document.createElement("input");r.id="score-check",r.type="checkbox",r.onchange=()=>{r.checked?this.scoreVisible=!0:this.scoreVisible=!1,this.updateBoard(!0,this.scoreVisible)},r.checked=this.scoreVisible,r.className="control";const i=document.createElement("td");i.appendChild(r),e.appendChild(i);const c=document.createElement("select");c.id="score-algorithm";for(const n of["alphabeta","mcts"]){const e=document.createElement("option");e.innerHTML=n.toString(),e.value=n.toString(),c.appendChild(e),this.scoringAlgorithm==n&&(e.selected=!0)}c.onchange=()=>{for(const n of c.selectedOptions){this.scoringAlgorithm=n.value;break}console.log("algorithm: ",this.scoringAlgorithm),this.scoreVisible&&this.updateBoard(!0,this.scoreVisible)},c.className="control";const s=document.createElement("td");s.appendChild(c),e.appendChild(s),n.appendChild(e)}{const e=document.createElement("tr"),t=document.createElement("label");t.innerHTML="NPC",t.htmlFor="npc-check";const o=document.createElement("th");o.appendChild(t),e.appendChild(o);const r=document.createElement("input");r.id="npc-check",r.type="checkbox",r.onchange=()=>{r.checked?this.npcEnabled=!0:this.npcEnabled=!1},r.checked=this.npcEnabled,r.className="control";const i=document.createElement("td");i.appendChild(r),e.appendChild(i);const c=document.createElement("select");c.id="score-algorithm";for(const n of["alphabeta","mcts"]){const e=document.createElement("option");e.innerHTML=n.toString(),e.value=n.toString(),c.appendChild(e),this.npcAlgorithm==n&&(e.selected=!0)}c.onchange=()=>{for(const n of c.selectedOptions){this.npcAlgorithm=n.value;break}console.log("algorithm: ",this.npcAlgorithm),this.scoreVisible&&this.updateBoard(!0,this.scoreVisible)},c.className="control";const s=document.createElement("td");s.appendChild(c),e.appendChild(s),n.appendChild(e)}{const e=document.createElement("tr"),t=document.createElement("th");e.appendChild(t);const o=document.createElement("input");o.type="button",o.value="Reset",o.onclick=()=>{this.board=m(),this.stone=1,this.updateBoard(!0,this.scoreVisible)},o.className="control";const r=document.createElement("td");r.appendChild(o),e.appendChild(r),n.appendChild(e)}return n}createInfoDom(){const n=document.createElement("table");{const e=document.createElement("tr"),t=document.createElement("th");t.className="info",t.innerHTML="Next",e.appendChild(t);const o=document.createElement("th");o.className="info",o.innerHTML="Turn",e.appendChild(o),n.appendChild(e)}{0===this.stone||p(this.board,this.stone)||p(this.board,A(this.stone))||(this.stone=0);const e=document.createElement("tr"),t=document.createElement("td");1==this.stone?(t.className="b info",t.innerHTML="●"):this.stone==o?(t.className="w info",t.innerHTML="●"):(t.innerHTML="Game End",t.className="info"),e.appendChild(t);const r=document.createElement("td");r.className="info";const i=a(this.board);r.innerHTML=(i-3).toString(),e.appendChild(r),n.appendChild(e)}return n}createScoreDom(){const n=document.createElement("table");{const e=document.createElement("tr"),t=document.createElement("th");t.className="score",t.innerHTML="Name",e.appendChild(t);const o=document.createElement("th");o.className="score",o.innerHTML="Black",e.appendChild(o);const r=document.createElement("th");r.className="score",r.innerHTML="White",e.appendChild(r),n.appendChild(e)}const e=s(this.board,1),t=s(this.board,o);{const o=document.createElement("tr"),r=document.createElement("td");r.className="score",r.innerHTML="Stones",o.appendChild(r);const i=document.createElement("td");i.className="score",i.innerHTML=e.toString(),o.appendChild(i);const c=document.createElement("td");c.className="score",c.innerHTML=t.toString(),o.appendChild(c),n.appendChild(o)}{const o=document.createElement("tr"),r=document.createElement("td");r.className="score",r.innerHTML="Score",o.appendChild(r);const i=document.createElement("td");i.className="score",i.innerHTML=(e-t).toString(),o.appendChild(i);const c=document.createElement("td");c.className="score",c.innerHTML=(t-e).toString(),o.appendChild(c),n.appendChild(o)}return n}createBoardDom(n,e){const t=this.yourStone,r=document.createElement("table");r.className="board";const c=this.stone;let s;if(e&&n)if(console.log("scoring",this.scoringAlgorithm),"mcts"===this.scoringAlgorithm){const n=1e4;s=w(this.board,c,n)}else{if("alphabeta"!==this.scoringAlgorithm)throw new Error("algorithm: "+this.scoringAlgorithm);{const n=5;s=b(this.board,c,n)}}else s=n?i(this.board,c):[];let a=0,l=-65;for(const n of s){const[e,t,o]=n;l=Math.max(l,t),a+=o}for(let n=0;n<8;++n){const e=document.createElement("tr");e.className="board",r.appendChild(e);for(let r=0;r<8;++r){const i=document.createElement("td"),a=this.board[n][r];if(1===a)i.innerHTML="●",i.className="board b";else if(a==o)i.innerHTML="●",i.className="board w";else{i.className="board";let e=null;for(const t of s){const[o,i]=t[0];if(o===n&&i===r){e=t[1];break}}if(null!=e){const s=document.createElement("input");s.type="button",-65==e?(s.className="candidate",s.value=""):e==l?1===c?(s.className="best-candidate-b",s.value=Math.round(e).toString()):c===o&&(s.className="best-candidate-w",s.value=Math.round(e).toString()):1===c?(s.className="candidate-b",s.value=Math.round(e).toString()):c===o&&(s.className="candidate-w",s.value=Math.round(e).toString()),s.onclick=()=>{if(h(this.board,this.stone,n,r)<=0)return;this.updateBoard(!1,!1);const e=A(this.stone);if(!p(this.board,this.stone)&&!p(this.board,e))return this.stone=0,void y(this.board,t);this.updateBoard(!1,!1),setTimeout(()=>{this.npcEnabled?(M(this.board,e,this.npcAlgorithm),p(this.board,this.stone)||(this.stone=0,y(this.board,t))):p(this.board,e)?this.stone=e:p(this.board,this.stone)||(this.stone=0),this.updateBoard(!0,this.scoreVisible)},10)},i.appendChild(s)}}e.appendChild(i)}}return r}}t(1);window.addEventListener("DOMContentLoaded",()=>{!function(){const n=new k;document.body.appendChild(n.div)}()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9tZXRob2QvYWxwaGFiZXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9tZXRob2QvbWN0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VNYXAiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiY29uY2F0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwiX2kiLCJwdXNoIiwiYXBpIiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIlciLCJkaXJzIiwic2NhbkNhbmRpZGF0ZXMiLCJib2FyZCIsInN0b25lIiwieSIsIngiLCJkaXIiLCJkeCIsImR5IiwicmV2ZXJzYWJsZSIsInJzIiwicmV2ZXJzZSIsIm54IiwibnkiLCJjb250YWlucyIsImNvdW50U3RvbmVzIiwic2NvcmUiLCJqIiwiY291bnRUdXJucyIsImV2YWxTY29yZSIsImNsb25lQm9hcmQiLCJBcnJheSIsInJvdyIsImNsb25lUm93IiwicHV0U3RvbmUiLCJkaWZmIiwicmV2ZXJzZUxpbmUiLCJoYXNDYW5kaWRhdGVzIiwibmV3Qm9hcmQiLCJmaWxsIiwiY2FuZGlkYXRlTGlzdCIsImRlcHRoIiwibmV4dEJvYXJkIiwibWluQ2FuZGlkYXRlcyIsInNjb3JlMiIsIm4yIiwibWF4Q2FuZGlkYXRlcyIsInVwcGVyIiwibWF4U2NvcmUiLCJNYXRoIiwibWF4IiwibG93ZXIiLCJtaW5TY29yZSIsIm1pbiIsImV2YWxVY2IxIiwibm9kZSIsIm5qIiwic3FydCIsImxvZzIiLCJwbGF5b3V0IiwiY2FuZGlkYXRlcyIsImZsb29yIiwicmFuZG9tIiwieHkiLCJnYW1lTm9kZSIsIm5vZGVzIiwiY2FuZGlkYXRlIiwiY2hvaWNlTm9kZSIsInN0b25lMCIsImZvb3RwcmludHMiLCJOdW1iZXIiLCJORUdBVElWRV9JTkZJTklUWSIsIlBPU0lUSVZFX0lORklOSVRZIiwicGxheUJvYXJkIiwibG9vcHMiLCJ0dXJucyIsImNvbnNvbGUiLCJsb2ciLCJzb3J0IiwiYSIsImIiLCJucGNCZXN0Q2FuZGlkYXRlcyIsImFsZ29yaXRobSIsImlqIiwibnBjIiwiYWxlcnQiLCJhbGVydEdhbWVSZXN1bHQiLCJzZXRUaW1lb3V0Iiwic2NvcmluZ0FsZ29yaXRobSIsIm5wY0FsZ29yaXRobSIsInlvdXJTdG9uZSIsIm5wY0VuYWJsZWQiLCJzZWFyY2hEZXB0aCIsInNjb3JlVmlzaWJsZSIsImRpdiIsInVwZGF0ZUJvYXJkIiwiYnV0dG9uRW5hYmxlZCIsImlubmVySFRNTCIsImNyZWF0ZUJvYXJkRG9tIiwiYXBwZW5kIiwiY3JlYXRlSW5mb0RvbSIsImNyZWF0ZVNjb3JlRG9tIiwiY3JlYXRlQ29udHJvbGxlckRvbSIsInRhYmxlIiwidHIiLCJsYWJlbCIsImh0bWxGb3IiLCJ0aCIsImNoZWNrYm94IiwidHlwZSIsIm9uY2hhbmdlIiwiY2hlY2tlZCIsImNsYXNzTmFtZSIsInRkIiwic2VsZWN0Iiwib3B0aW9uIiwic2VsZWN0ZWQiLCJvcHQiLCJzZWxlY3RlZE9wdGlvbnMiLCJ0ZFNjb3JpbmciLCJ0ZEFsZ29yaXRobSIsImJ1dHRvblJlc2V0Iiwib25jbGljayIsInRoTmV4dCIsInRoVHVybiIsInRkTmV4dCIsInRkVHVybiIsInN0b25lcyIsInRoTmFtZSIsInRoQmxhY2siLCJ0aFdoaXRlIiwiYlN0b25lcyIsIndTdG9uZXMiLCJ0ZExhYmVsIiwidGRCbGFjayIsInRkV2hpdGUiLCJ0b3RhbENvdW50IiwiaTEiLCJqMSIsImJ1dHRvbiIsInJvdW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdhbWUiLCJib2R5IiwiaW5pdCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9E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LElBR3ZCbkMsRUFBRzdILFlBQVlzSSxJQUd2QixPQUFPVixHLEtDcGZmbEssT0FBT3dNLGlCQUFpQixtQkFBb0IsTUFJNUMsV0FDSSxNQUFNQyxFQUFPLElBQUksRUFDakJ4TSxTQUFTeU0sS0FBS3BLLFlBQVltSyxFQUFLaEQsS0FML0JrRCIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0FBQTtcXG59XFxuXFxuaW5wdXQge1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG5cXG4uY29udHJvbCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNDQ0M7XFxuICAgIGNvbG9yOiBibGFjaztcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEwcHQ7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi5iIHtcXG4gICAgY29sb3I6ICMwMDA7XFxuICAgIGZvbnQtc2l6ZTogMTZwdDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4udyB7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBmb250LXNpemU6IDE2cHQ7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLmNhbmRpZGF0ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwOTA7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBjb2xvcjogZ3JlZW47XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5jYW5kaWRhdGUtYiB7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDkwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBjb2xvcjogIzIyMjtcXG59XFxuLmNhbmRpZGF0ZS13IHtcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEycHQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwOTA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjREREO1xcbn1cXG5cXG4uYmVzdC1jYW5kaWRhdGUtYiB7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEIwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBjb2xvcjogIzAwMDtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi5iZXN0LWNhbmRpZGF0ZS13IHtcXG4gICAgYm9yZGVyOiBzb2xpZCAwO1xcbiAgICBmb250LXNpemU6IDEycHQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwQjA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuXFxudWwge1xcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XFxufVxcblxcbi5zY29yZSB7XFxuICAgIGNvbG9yOiAjMDAwO1xcbn1cXG5cXG50YWJsZS5ib2FyZCB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbiAgICBwYWRkaW5nOiAwcHg7XFxuICAgIG1hcmdpbjogNXB4O1xcbiAgICBib3JkZXItY29sbGFwc2U6IG5vbmU7XFxuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cXG5cXG50ci5ib2FyZCB7XFxuICAgIGJvcmRlci1jb2xsYXBzZTogbm9uZTtcXG4gICAgYm9yZGVyLXNwYWNpbmc6IDA7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gICAgbWFyZ2luOiAwcHg7XFxufVxcblxcbnRkLmJvYXJkIHtcXG4gICAgd2lkdGg6IDU7XFxuICAgIGhlaWdodDogNTtcXG4gICAgcGFkZGluZzogMHB4O1xcbiAgICBtYXJnaW46IDFweDtcXG4gICAgd2lkdGg6IDUwcHg7XFxuICAgIGhlaWdodDogNTBweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNiYmI7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxudGguc2NvcmUsIHRkLnNjb3JlIHtcXG4gICAgd2lkdGg6IDc1cHg7XFxuICAgIGZvbnQtc2l6ZTogMTBwdDtcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbnRoLmluZm8sIHRkLmluZm8ge1xcbiAgICB3aWR0aDogNzVweDtcXG4gICAgZm9udC1zaXplOiAxMHB0O1xcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wic3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksU0FBUztJQUNULGdCQUFnQjtJQUNoQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGVBQWU7SUFDZixlQUFlO0lBQ2Ysc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGVBQWU7SUFDZixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixlQUFlO0lBQ2YsZUFBZTtJQUNmLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztBQUNmO0FBQ0E7SUFDSSxlQUFlO0lBQ2YsZUFBZTtJQUNmLHNCQUFzQjtJQUN0QixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGVBQWU7SUFDZixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztJQUNYLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksZUFBZTtJQUNmLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFlBQVk7SUFDWixXQUFXO0lBQ1gsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixXQUFXO0lBQ1gscUJBQXFCO0lBQ3JCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFFBQVE7SUFDUixTQUFTO0lBQ1QsWUFBWTtJQUNaLFdBQVc7SUFDWCxXQUFXO0lBQ1gsWUFBWTtJQUNaLHVCQUF1QjtJQUN2QixzQkFBc0I7SUFDdEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGVBQWU7SUFDZixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZUFBZTtJQUNmLGlCQUFpQjtBQUNyQlwiLFwiZmlsZVwiOlwic3R5bGUuY3NzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHkge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNBQUE7XFxufVxcblxcbmlucHV0IHtcXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuXFxuLmNvbnRyb2wge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjQ0NDO1xcbiAgICBjb2xvcjogYmxhY2s7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMHB0O1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG5cXG4uYiB7XFxuICAgIGNvbG9yOiAjMDAwO1xcbiAgICBmb250LXNpemU6IDE2cHQ7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLncge1xcbiAgICBjb2xvcjogI2ZmZjtcXG4gICAgZm9udC1zaXplOiAxNnB0O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5jYW5kaWRhdGUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDkwO1xcbiAgICBib3JkZXI6IHNvbGlkIDA7XFxuICAgIGZvbnQtc2l6ZTogMTJwdDtcXG4gICAgY29sb3I6IGdyZWVuO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uY2FuZGlkYXRlLWIge1xcbiAgICBib3JkZXI6IHNvbGlkIDA7XFxuICAgIGZvbnQtc2l6ZTogMTJwdDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzA5MDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgY29sb3I6ICMyMjI7XFxufVxcbi5jYW5kaWRhdGUtdyB7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDkwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBjb2xvcjogI0RERDtcXG59XFxuXFxuLmJlc3QtY2FuZGlkYXRlLWIge1xcbiAgICBib3JkZXI6IHNvbGlkIDA7XFxuICAgIGZvbnQtc2l6ZTogMTJwdDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBCMDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgY29sb3I6ICMwMDA7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4uYmVzdC1jYW5kaWRhdGUtdyB7XFxuICAgIGJvcmRlcjogc29saWQgMDtcXG4gICAgZm9udC1zaXplOiAxMnB0O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEIwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBjb2xvcjogI2ZmZjtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcblxcbnVsIHtcXG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbn1cXG5cXG4uc2NvcmUge1xcbiAgICBjb2xvcjogIzAwMDtcXG59XFxuXFxudGFibGUuYm9hcmQge1xcbiAgICBmbG9hdDogbGVmdDtcXG4gICAgcGFkZGluZzogMHB4O1xcbiAgICBtYXJnaW46IDVweDtcXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBub25lO1xcbiAgICBib3JkZXItc3BhY2luZzogMDtcXG59XFxuXFxudHIuYm9hcmQge1xcbiAgICBib3JkZXItY29sbGFwc2U6IG5vbmU7XFxuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xcbiAgICBwYWRkaW5nOiAwcHg7XFxuICAgIG1hcmdpbjogMHB4O1xcbn1cXG5cXG50ZC5ib2FyZCB7XFxuICAgIHdpZHRoOiA1O1xcbiAgICBoZWlnaHQ6IDU7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gICAgbWFyZ2luOiAxcHg7XFxuICAgIHdpZHRoOiA1MHB4O1xcbiAgICBoZWlnaHQ6IDUwcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYmJiO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbnRoLnNjb3JlLCB0ZC5zY29yZSB7XFxuICAgIHdpZHRoOiA3NXB4O1xcbiAgICBmb250LXNpemU6IDEwcHQ7XFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG50aC5pbmZvLCB0ZC5pbmZvIHtcXG4gICAgd2lkdGg6IDc1cHg7XFxuICAgIGZvbnQtc2l6ZTogMTBwdDtcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVwiXX1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiY29uc3QgQiA9IDFcbmNvbnN0IFcgPSAtMVxuY29uc3QgRSA9IDA7XG5cbnR5cGUgU3RvbmUgPSAtMSB8IDAgfCAxO1xudHlwZSBCb2FyZCA9IFN0b25lW11bXTtcbnR5cGUgQ2FuZGlkYXRlID0gW1tudW1iZXIsIG51bWJlcl0sIG51bWJlciwgbnVtYmVyXVxuXG5jb25zdCBkaXJzID0gW1xuICAgIFswLCAtMV0sXG4gICAgWzEsIC0xXSxcbiAgICBbMSwgMF0sXG4gICAgWzEsIDFdLFxuICAgIFswLCAxXSxcbiAgICBbLTEsIDFdLFxuICAgIFstMSwgMF0sXG4gICAgWy0xLCAtMV1cbl07XG5cbmNvbnN0IE1BWF9TQ09SRSA9IDggKiA4ICsgMTtcbmNvbnN0IE1JTl9TQ09SRSA9IC0gTUFYX1NDT1JFO1xuXG5mdW5jdGlvbiBzY2FuQ2FuZGlkYXRlcyhib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSkge1xuICAgIGNvbnN0IGxpc3Q6IENhbmRpZGF0ZVtdID0gW107XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCA4OyArK3kpIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCA4OyArK3gpIHtcbiAgICAgICAgICAgIGlmIChib2FyZFt4XVt5XSAhPSBFKSBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBkaXIgb2YgZGlycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtkeCwgZHldID0gZGlyO1xuICAgICAgICAgICAgICAgIGlmIChyZXZlcnNhYmxlKGJvYXJkLCBzdG9uZSwgeCwgeSwgZHgsIGR5KSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goW1t4LCB5XSwgTUlOX1NDT1JFLCAwXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuZnVuY3Rpb24gcmV2ZXJzYWJsZShib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpIHtcbiAgICBjb25zdCBycyA9IHJldmVyc2Uoc3RvbmUpO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgbGV0IG54ID0geDtcbiAgICBsZXQgbnkgPSB5O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIG54ICs9IGR4O1xuICAgICAgICBueSArPSBkeTtcbiAgICAgICAgaWYgKCFjb250YWlucyhueCwgbnkpKSBicmVhaztcbiAgICAgICAgY29uc3QgcyA9IGJvYXJkW254XVtueV07XG4gICAgICAgIGlmIChzID09PSBycykge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzID09PSBzdG9uZSAmJiBjb3VudCA+IDApIHJldHVybiB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjb3VudFN0b25lcyhib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSkge1xuICAgIGxldCBzY29yZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgIGlmIChib2FyZFtpXVtqXSA9PSBzdG9uZSkge1xuICAgICAgICAgICAgICAgICsrc2NvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlO1xufVxuXG5mdW5jdGlvbiBjb3VudFR1cm5zKGJvYXJkOiBCb2FyZCkge1xuICAgIGxldCBzY29yZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgIGlmIChib2FyZFtpXVtqXSAhPT0gRSkge1xuICAgICAgICAgICAgICAgICsrc2NvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlIC0gMztcbn1cblxuZnVuY3Rpb24gZXZhbFNjb3JlKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lKSB7XG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7ICsraikge1xuICAgICAgICAgICAgY29uc3QgcyA9IGJvYXJkW2ldW2pdO1xuICAgICAgICAgICAgaWYgKHMgPT09IHN0b25lKSB7XG4gICAgICAgICAgICAgICAgKytzY29yZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocyAhPT0gRSkge1xuICAgICAgICAgICAgICAgIC0tc2NvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlO1xufVxuXG5mdW5jdGlvbiBjbG9uZUJvYXJkKGJvYXJkOiBCb2FyZCkge1xuICAgIGNvbnN0IGNsb25lQm9hcmQ6IEJvYXJkID0gbmV3IEFycmF5KDgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGJvYXJkW2ldO1xuICAgICAgICBjb25zdCBjbG9uZVJvdyA9IG5ldyBBcnJheSg4KTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgIGNsb25lUm93W2pdID0gcm93W2pdO1xuICAgICAgICB9XG4gICAgICAgIGNsb25lQm9hcmRbaV0gPSBjbG9uZVJvdztcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lQm9hcmQ7XG59XG5cbmZ1bmN0aW9uIHJldmVyc2Uoc3RvbmU6IFN0b25lKTogU3RvbmUge1xuICAgIHJldHVybiAoc3RvbmUgKiAtMSkgYXMgU3RvbmU7XG59XG5cbmZ1bmN0aW9uIHB1dFN0b25lKGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lLCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIGlmIChib2FyZFt4XVt5XSAhPSBFKSByZXR1cm4gMDtcblxuICAgIGxldCBkaWZmID0gMDtcbiAgICBmb3IgKGNvbnN0IGRpciBvZiBkaXJzKSB7XG4gICAgICAgIGNvbnN0IFtkeCwgZHldID0gZGlyO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgbnggPSB4O1xuICAgICAgICBsZXQgbnkgPSB5O1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgbnggKz0gZHg7XG4gICAgICAgICAgICBueSArPSBkeTtcbiAgICAgICAgICAgIGlmICghY29udGFpbnMobngsIG55KSkgYnJlYWs7XG4gICAgICAgICAgICBjb25zdCBzID0gYm9hcmRbbnhdW255XTtcbiAgICAgICAgICAgIGlmIChzID09PSBFKSBicmVhaztcbiAgICAgICAgICAgIGlmIChzID09PSBzdG9uZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUxpbmUoYm9hcmQsIHMsIHgsIHksIGR4LCBkeSwgY291bnQpO1xuICAgICAgICAgICAgICAgICAgICBkaWZmICs9IGNvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgIGJvYXJkW3hdW3ldID0gc3RvbmU7XG4gICAgfVxuICAgIHJldHVybiBkaWZmO1xufVxuXG5mdW5jdGlvbiBjb250YWlucyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHJldHVybiAwIDw9IHggJiYgeCA8IDggJiYgMCA8PSB5ICYmIHkgPCA4O1xufVxuXG5mdW5jdGlvbiByZXZlcnNlTGluZShib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIGNvdW50OiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgeCArPSBkeCwgeSArPSBkeTtcbiAgICAgICAgYm9hcmRbeF1beV0gPSBzdG9uZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhc0NhbmRpZGF0ZXMoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7ICsraikge1xuICAgICAgICAgICAgaWYgKGJvYXJkW2ldW2pdICE9IEUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRpciBvZiBkaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2R4LCBkeV0gPSBkaXI7XG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gaSArIGR4ICogY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBqICsgZHkgKiBjb3VudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWlucyh4LCB5KSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBib2FyZFt4XVt5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09IEUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gc3RvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBuZXdCb2FyZCgpIHtcbiAgICBjb25zdCBib2FyZDogQm9hcmQgPSBuZXcgQXJyYXkoOCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZC5sZW5ndGg7ICsraSkge1xuICAgICAgICBib2FyZFtpXSA9IG5ldyBBcnJheSg4KS5maWxsKEUpO1xuICAgIH1cbiAgICBib2FyZFszXVszXSA9IEI7XG4gICAgYm9hcmRbM11bNF0gPSBXO1xuICAgIGJvYXJkWzRdWzNdID0gVztcbiAgICBib2FyZFs0XVs0XSA9IEI7XG4gICAgcmV0dXJuIGJvYXJkO1xufVxuXG5leHBvcnQge1xuICAgIEUsIEIsIFcsXG4gICAgZGlycyxcbiAgICBNSU5fU0NPUkUsIE1BWF9TQ09SRSxcbiAgICBCb2FyZCwgU3RvbmUsIENhbmRpZGF0ZSxcbiAgICBuZXdCb2FyZCwgc2NhbkNhbmRpZGF0ZXMsXG4gICAgY2xvbmVCb2FyZCwgcmV2ZXJzZSwgcHV0U3RvbmUsIGhhc0NhbmRpZGF0ZXMsXG4gICAgY291bnRTdG9uZXMsIGNvdW50VHVybnMsIGV2YWxTY29yZVxufTsiLCIvKipcbiAqIEFscGhh4oCTYmV0YSBwcnVuaW5nXG4gKi9cbmltcG9ydCB7XG4gICAgTUlOX1NDT1JFLCBNQVhfU0NPUkUsXG4gICAgQm9hcmQsIFN0b25lLCBDYW5kaWRhdGUsIFxuICAgIGNsb25lQm9hcmQsIHJldmVyc2UsIHB1dFN0b25lLCBoYXNDYW5kaWRhdGVzLCBldmFsU2NvcmVcbn0gZnJvbSAnLi4vYm9hcmQnO1xuXG5mdW5jdGlvbiBjYW5kaWRhdGVMaXN0KGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lLCBkZXB0aDogbnVtYmVyKTogQ2FuZGlkYXRlW10ge1xuICAgIGNvbnN0IHJzID0gcmV2ZXJzZShzdG9uZSk7XG4gICAgY29uc3QgbGlzdDogQ2FuZGlkYXRlW10gPSBbXTtcbiAgICBsZXQgbmV4dEJvYXJkID0gY2xvbmVCb2FyZChib2FyZCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBwdXRTdG9uZShuZXh0Qm9hcmQsIHN0b25lLCBpLCBqKTtcbiAgICAgICAgICAgIGlmIChkaWZmIDw9IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoZGVwdGggPD0gMCkge1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChbW2ksIGpdLCBNSU5fU0NPUkUsIDFdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3Njb3JlLCBuXSA9IG1pbkNhbmRpZGF0ZXMobmV4dEJvYXJkLCBzdG9uZSwgZGVwdGggLSAxLCBNSU5fU0NPUkUpO1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA8IE1BWF9TQ09SRSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goW1tpLCBqXSwgc2NvcmUsIG5dKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbc2NvcmUyLCBuMl0gPSBtYXhDYW5kaWRhdGVzKG5leHRCb2FyZCwgc3RvbmUsIGRlcHRoIC0gMSwgTUlOX1NDT1JFKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlMiA+IE1JTl9TQ09SRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKFtbaSwgal0sIHNjb3JlMiwgbjJdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaGFzQ2FuZGlkYXRlcyhuZXh0Qm9hcmQsIHN0b25lKSAmJiAhaGFzQ2FuZGlkYXRlcyhuZXh0Qm9hcmQsIHJzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKFtbaSwgal0sIGV2YWxTY29yZShuZXh0Qm9hcmQsIHN0b25lKSwgMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEJvYXJkID0gY2xvbmVCb2FyZChib2FyZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbmZ1bmN0aW9uIG1heENhbmRpZGF0ZXMoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUsIGRlcHRoOiBudW1iZXIsIHVwcGVyOiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBjb25zdCBycyA9IHJldmVyc2Uoc3RvbmUpO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgbGV0IG1heFNjb3JlID0gTUlOX1NDT1JFO1xuICAgIGxldCBuZXh0Qm9hcmQgPSBjbG9uZUJvYXJkKGJvYXJkKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7ICsraikge1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IHB1dFN0b25lKG5leHRCb2FyZCwgc3RvbmUsIGksIGopO1xuICAgICAgICAgICAgaWYgKGRpZmYgPD0gMCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChkZXB0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgKytjb3VudDtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IGV2YWxTY29yZShuZXh0Qm9hcmQsIHN0b25lKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPiB1cHBlcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzY29yZSwgY291bnRdO1xuICAgICAgICAgICAgICAgIG1heFNjb3JlID0gTWF0aC5tYXgobWF4U2NvcmUsIHNjb3JlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3Njb3JlLCBuXSA9IG1pbkNhbmRpZGF0ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Qm9hcmQsIHN0b25lLCBkZXB0aCAtIDEsIG1heFNjb3JlKTtcbiAgICAgICAgICAgICAgICBjb3VudCArPSBuO1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA8IE1BWF9TQ09SRSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPiB1cHBlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbc2NvcmUsIGNvdW50XTtcbiAgICAgICAgICAgICAgICAgICAgbWF4U2NvcmUgPSBNYXRoLm1heChtYXhTY29yZSwgc2NvcmUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtzY29yZTIsIG4yXSA9IG1heENhbmRpZGF0ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEJvYXJkLCBzdG9uZSwgZGVwdGggLSAxLCB1cHBlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IG4yO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUyID4gdXBwZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Njb3JlMiwgY291bnRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUyID4gTUlOX1NDT1JFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhTY29yZSA9IE1hdGgubWF4KG1heFNjb3JlLCBzY29yZTIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFoYXNDYW5kaWRhdGVzKG5leHRCb2FyZCwgc3RvbmUpICYmICFoYXNDYW5kaWRhdGVzKG5leHRCb2FyZCwgcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhTY29yZSA9IE1hdGgubWF4KG1heFNjb3JlLCBldmFsU2NvcmUobmV4dEJvYXJkLCBzdG9uZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKytjb3VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRCb2FyZCA9IGNsb25lQm9hcmQoYm9hcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbbWF4U2NvcmUsIGNvdW50XTtcbn1cblxuZnVuY3Rpb24gbWluQ2FuZGlkYXRlcyhib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSwgZGVwdGg6IG51bWJlciwgbG93ZXI6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIGNvbnN0IHJzID0gcmV2ZXJzZShzdG9uZSk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgbWluU2NvcmUgPSBNQVhfU0NPUkU7XG4gICAgbGV0IG5leHRCb2FyZCA9IGNsb25lQm9hcmQoYm9hcmQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gcHV0U3RvbmUobmV4dEJvYXJkLCBycywgaSwgaik7XG4gICAgICAgICAgICBpZiAoZGlmZiA8PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGRlcHRoIDw9IDApIHtcbiAgICAgICAgICAgICAgICArK2NvdW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gZXZhbFNjb3JlKG5leHRCb2FyZCwgc3RvbmUpO1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA8IGxvd2VyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Njb3JlLCBjb3VudF07XG4gICAgICAgICAgICAgICAgbWluU2NvcmUgPSBNYXRoLm1pbihtaW5TY29yZSwgc2NvcmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbc2NvcmUsIG5dID0gbWF4Q2FuZGlkYXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRCb2FyZCwgc3RvbmUsIGRlcHRoIC0gMSwgbWluU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IG47XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlID4gTUlOX1NDT1JFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29yZSA8IGxvd2VyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzY29yZSwgY291bnRdO1xuICAgICAgICAgICAgICAgICAgICBtaW5TY29yZSA9IE1hdGgubWluKG1pblNjb3JlLCBzY29yZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3Njb3JlMiwgbjJdID0gbWluQ2FuZGlkYXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Qm9hcmQsIHN0b25lLCBkZXB0aCAtIDEsIGxvd2VyKTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gbjI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29yZTIgPCBNQVhfU0NPUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblNjb3JlID0gTWF0aC5taW4obWluU2NvcmUsIHNjb3JlMik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWhhc0NhbmRpZGF0ZXMobmV4dEJvYXJkLCBzdG9uZSkgJiYgIWhhc0NhbmRpZGF0ZXMobmV4dEJvYXJkLCBycykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblNjb3JlID0gTWF0aC5taW4obWluU2NvcmUsIGV2YWxTY29yZShuZXh0Qm9hcmQsIHN0b25lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2NvdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEJvYXJkID0gY2xvbmVCb2FyZChib2FyZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFttaW5TY29yZSwgY291bnRdO1xufVxuXG5leHBvcnQgeyBjYW5kaWRhdGVMaXN0IH07IiwiLyoqXG4gKiBNb250ZSBDYXJsbyB0cmVlIHNlYXJjaCAoTUNUUylcbiAqL1xuaW1wb3J0IHtcbiAgICBCb2FyZCwgU3RvbmUsIENhbmRpZGF0ZSwgXG4gICAgc2NhbkNhbmRpZGF0ZXMsXG4gICAgY2xvbmVCb2FyZCwgcmV2ZXJzZSwgcHV0U3RvbmUsIGV2YWxTY29yZSwgY291bnRUdXJuc1xufSBmcm9tICcuLi9ib2FyZCc7XG5cbmltcG9ydCAqIGFzIEFscGhhQmV0YSBmcm9tICcuL2FscGhhYmV0YSc7XG5cbmludGVyZmFjZSBHYW1lTm9kZSB7XG4gICAgYm9hcmQ6IEJvYXJkO1xuICAgIG5vZGVzOiBHYW1lTm9kZVtdO1xuICAgIHN0b25lOiBTdG9uZSxcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHNjb3JlOiBudW1iZXI7XG4gICAgbjogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBldmFsVWNiMShub2RlOiBHYW1lTm9kZSwgbjogbnVtYmVyKSB7XG4gICAgY29uc3QgeCA9IG5vZGUuc2NvcmU7XG4gICAgY29uc3QgbmogPSBub2RlLm47XG4gICAgcmV0dXJuIHggLyBuICsgTWF0aC5zcXJ0KDIgKiBNYXRoLmxvZzIobikgLyBuaik7XG59XG5cbmZ1bmN0aW9uIHBsYXlvdXQoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUpIHtcbiAgICBsZXQgY2FuZGlkYXRlcyA9IHNjYW5DYW5kaWRhdGVzKGJvYXJkLCBzdG9uZSk7XG4gICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgc3RvbmUgPSByZXZlcnNlKHN0b25lKTtcbiAgICAgICAgY2FuZGlkYXRlcyA9IHNjYW5DYW5kaWRhdGVzKGJvYXJkLCBzdG9uZSk7XG4gICAgfVxuICAgIHdoaWxlIChjYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKGNhbmRpZGF0ZXMubGVuZ3RoICogTWF0aC5yYW5kb20oKSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBbeHldID0gY2FuZGlkYXRlc1tpbmRleF07XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IHh5O1xuXG4gICAgICAgIGNvbnN0IGRpZmYgPSBwdXRTdG9uZShib2FyZCwgc3RvbmUsIHgsIHkpO1xuICAgICAgICBpZiAoZGlmZiA8PSAwKSB0aHJvdyBuZXcgRXJyb3IoKTtcblxuICAgICAgICBzdG9uZSA9IHJldmVyc2Uoc3RvbmUpO1xuICAgICAgICBjYW5kaWRhdGVzID0gc2NhbkNhbmRpZGF0ZXMoYm9hcmQsIHN0b25lKTtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID4gMCkgY29udGludWU7XG5cbiAgICAgICAgc3RvbmUgPSByZXZlcnNlKHN0b25lKTtcbiAgICAgICAgY2FuZGlkYXRlcyA9IHNjYW5DYW5kaWRhdGVzKGJvYXJkLCBzdG9uZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnYW1lTm9kZShib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSkge1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBzY2FuQ2FuZGlkYXRlcyhib2FyZCwgc3RvbmUpO1xuICAgIGNvbnN0IHJzID0gcmV2ZXJzZShzdG9uZSk7XG4gICAgY29uc3Qgbm9kZXM6IEdhbWVOb2RlW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjYW5kaWRhdGVzKSB7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IGNhbmRpZGF0ZVswXTtcbiAgICAgICAgbGV0IG5leHRCb2FyZCA9IGNsb25lQm9hcmQoYm9hcmQpO1xuICAgICAgICBjb25zdCBkaWZmID0gcHV0U3RvbmUobmV4dEJvYXJkLCBzdG9uZSwgeCwgeSk7XG4gICAgICAgIGlmIChkaWZmIDw9IDApIHRocm93IG5ldyBFcnJvcigpO1xuXG4gICAgICAgIGNvbnN0IHBsYXlCb2FyZCA9IGNsb25lQm9hcmQobmV4dEJvYXJkKTtcbiAgICAgICAgcGxheW91dChwbGF5Qm9hcmQsIHN0b25lKTtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBldmFsU2NvcmUobmV4dEJvYXJkLCBzdG9uZSk7XG5cbiAgICAgICAgbm9kZXMucHVzaCh7XG4gICAgICAgICAgICBib2FyZDogbmV4dEJvYXJkLFxuICAgICAgICAgICAgc3RvbmU6IHJzLFxuICAgICAgICAgICAgbm9kZXM6IFtdLFxuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICBzY29yZTogc2NvcmUsXG4gICAgICAgICAgICBuOiAxLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzO1xufVxuXG5mdW5jdGlvbiBjaG9pY2VOb2RlKG5vZGVzOiBHYW1lTm9kZVtdLCBzdG9uZTogU3RvbmUpIHtcbiAgICBpZiAobm9kZXMubGVuZ3RoID09IDApIHRocm93IG5ldyBFcnJvcigpO1xuIFxuICAgIGNvbnN0IHN0b25lMCA9IHN0b25lO1xuXG4gICAgY29uc3QgZm9vdHByaW50cyA9IFtdO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IDQ7XG4gICAgd2hpbGUgKG5vZGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICBsZXQgaW5kZXggPSAtMTtcblxuICAgICAgICBsZXQgbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG4gKz0gbm9kZXNbaV0ubjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RvbmUgPT09IHN0b25lMCkge1xuICAgICAgICAgICAgbGV0IG1heFNjb3JlID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gZXZhbFVjYjEobm9kZXNbaV0sIG4pO1xuICAgICAgICAgICAgICAgIGlmIChtYXhTY29yZSA8IHNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbWluU2NvcmUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBldmFsVWNiMShub2Rlc1tpXSwgbik7XG4gICAgICAgICAgICAgICAgaWYgKG1pblNjb3JlID4gc2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluU2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPCAwKSB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2luZGV4XTtcbiAgICAgICAgZm9vdHByaW50cy5wdXNoKG5vZGUpO1xuXG4gICAgICAgIHN0b25lID0gbm9kZS5zdG9uZTtcbiAgICAgICAgbm9kZXMgPSBub2RlLm5vZGVzO1xuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID09IDAgJiYgbm9kZS5uID4gdGhyZXNob2xkKSB7XG4gICAgICAgICAgICBub2RlLm5vZGVzID0gZ2FtZU5vZGUobm9kZS5ib2FyZCwgc3RvbmUpO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBzdG9uZSA9IHJldmVyc2Uoc3RvbmUpO1xuICAgICAgICAgICAgICAgIG5vZGUubm9kZXMgPSBnYW1lTm9kZShub2RlLmJvYXJkLCByZXZlcnNlKHN0b25lKSk7XG4gICAgICAgICAgICAgICAgc3RvbmUgPSByZXZlcnNlKHN0b25lKTtcbiAgICAgICAgICAgICAgICBub2RlLnN0b25lID0gc3RvbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlcyA9IG5vZGUubm9kZXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBub2RlID0gZm9vdHByaW50c1tmb290cHJpbnRzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHBsYXlCb2FyZCA9IGNsb25lQm9hcmQobm9kZS5ib2FyZCk7XG4gICAgcGxheW91dChwbGF5Qm9hcmQsIHN0b25lKTtcbiAgICBjb25zdCBzY29yZSA9IGV2YWxTY29yZShwbGF5Qm9hcmQsIHN0b25lMCk7XG4gICAgZm9yIChjb25zdCBuIG9mIGZvb3RwcmludHMpIHtcbiAgICAgICAgbi5zY29yZSArPSBzY29yZTtcbiAgICAgICAgKytuLm47XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYW5kaWRhdGVMaXN0KGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lLCBsb29wczogbnVtYmVyKTogQ2FuZGlkYXRlW10ge1xuICAgIGNvbnN0IG5vZGVzID0gZ2FtZU5vZGUoYm9hcmQsIHN0b25lKTtcbiAgICBpZiAobm9kZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcmV0dXJuIFtdOyAgICAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgdHVybnMgPSBjb3VudFR1cm5zKGJvYXJkKTtcbiAgICBpZiAodHVybnMgPT0gMSkge1xuICAgICAgICByZXR1cm4gQWxwaGFCZXRhLmNhbmRpZGF0ZUxpc3QoYm9hcmQsIHN0b25lLCAwKTtcbiAgICB9XG4gICAgaWYgKDY0IC0gdHVybnMgPD0gNSkge1xuICAgICAgICBjb25zb2xlLmxvZygnYWxnb3JpdGhtIC0+IGFscGhhLWJldGEnKTtcbiAgICAgICAgcmV0dXJuIEFscGhhQmV0YS5jYW5kaWRhdGVMaXN0KGJvYXJkLCBzdG9uZSwgNSk7XG4gICAgfVxuXG4gICAgbm9kZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBjb25zdCBkeCA9IGEueCAtIGIueDtcbiAgICAgICAgaWYgKGR4ICE9PSAwKSByZXR1cm4gZHg7XG4gICAgICAgIHJldHVybiBhLnkgLSBiLnk7XG4gICAgfSk7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxvb3BzOyArK2opIHtcbiAgICAgICAgY2hvaWNlTm9kZShub2Rlcywgc3RvbmUpO1xuICAgIH1cblxuICAgIGxldCBzID0gMDtcbiAgICBjb25zdCBjYW5kaWRhdGVzOiBDYW5kaWRhdGVbXSA9IFtdO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuICAgICAgICBjYW5kaWRhdGVzLnB1c2goW1tub2RlLngsIG5vZGUueV0sIG5vZGUuc2NvcmUgLyBub2RlLm4sIG5vZGUubl0pO1xuICAgICAgICBzICs9IG5vZGUubjtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnbjEnLCBub2RlLngsIG5vZGUueSwgbm9kZS5uLCBub2RlLnNjb3JlIC8gbm9kZS5uKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XG59XG5cbmV4cG9ydCB7IGNhbmRpZGF0ZUxpc3QgfTsiLCJpbXBvcnQge1xuICAgIEUsIEIsIFcsXG4gICAgZGlycyxcbiAgICBNSU5fU0NPUkUsIE1BWF9TQ09SRSxcbiAgICBCb2FyZCwgU3RvbmUsIENhbmRpZGF0ZSxcbiAgICBuZXdCb2FyZCwgcHV0U3RvbmUsXG4gICAgcmV2ZXJzZSwgaGFzQ2FuZGlkYXRlcyxcbiAgICBzY2FuQ2FuZGlkYXRlcyxcbiAgICBldmFsU2NvcmUsIGNvdW50VHVybnMsIGNvdW50U3RvbmVzXG59IGZyb20gJy4vYm9hcmQnO1xuaW1wb3J0IHsgY2FuZGlkYXRlTGlzdCB9IGZyb20gJy4vbWV0aG9kL2FscGhhYmV0YSc7XG5pbXBvcnQgKiBhcyBNQ1RTIGZyb20gJy4vbWV0aG9kL21jdHMnO1xuXG5mdW5jdGlvbiBucGNCZXN0Q2FuZGlkYXRlcyhib2FyZDogQm9hcmQsIHN0b25lOiBTdG9uZSwgYWxnb3JpdGhtOiBzdHJpbmcpIHtcbiAgICBsZXQgbWF4U2NvcmUgPSBNSU5fU0NPUkU7XG4gICAgbGV0IGxpc3QgPSBbXTtcbiAgICBsZXQgY2FuZGlkYXRlczogQ2FuZGlkYXRlW107XG4gICAgaWYgKGFsZ29yaXRobSA9PT0gJ21jdHMnKSB7XG4gICAgICAgIGNvbnN0IGxvb3BzOiBudW1iZXIgPSAxMDAwMDtcbiAgICAgICAgY2FuZGlkYXRlcyA9IE1DVFMuY2FuZGlkYXRlTGlzdChib2FyZCwgc3RvbmUsIGxvb3BzKTtcbiAgICB9IGVsc2UgaWYgKGFsZ29yaXRobSA9PT0gJ2FscGhhYmV0YScpIHtcbiAgICAgICAgY29uc3QgZGVwdGg6IG51bWJlciA9IDU7XG4gICAgICAgIGNhbmRpZGF0ZXMgPSBjYW5kaWRhdGVMaXN0KGJvYXJkLCBzdG9uZSwgZGVwdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjYW5kaWRhdGVzKSB7XG4gICAgICAgIGNvbnN0IFtpaiwgc2NvcmVdID0gY2FuZGlkYXRlO1xuICAgICAgICBpZiAobWF4U2NvcmUgPCBzY29yZSkge1xuICAgICAgICAgICAgbWF4U2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgIGxpc3QucHVzaChpaik7XG4gICAgICAgIH0gZWxzZSBpZiAobWF4U2NvcmUgPT0gc2NvcmUpIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChpaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCk7XG4gICAgcmV0dXJuIGxpc3RbaW5kZXhdO1xufVxuXG5mdW5jdGlvbiBucGMoYm9hcmQ6IEJvYXJkLCBzdG9uZTogU3RvbmUsIGFsZ29yaXRobTogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ25wYycsIGFsZ29yaXRobSk7XG5cbiAgICBjb25zdCBucyA9IHJldmVyc2Uoc3RvbmUpO1xuICAgIGlmICghaGFzQ2FuZGlkYXRlcyhib2FyZCwgc3RvbmUpKSB7XG4gICAgICAgIGFsZXJ0KCdOUEMgbXVzdCBwYXNzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IGlqID0gbnBjQmVzdENhbmRpZGF0ZXMoYm9hcmQsIHN0b25lLCBhbGdvcml0aG0pO1xuICAgICAgICBpZiAoIWlqKSB7XG4gICAgICAgICAgICBhbGVydChcImlsbGVnYWwgc3RhdGUgMVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFtpLCBqXSA9IGlqO1xuICAgICAgICBjb25zdCBkaWZmMSA9IHB1dFN0b25lKGJvYXJkLCBzdG9uZSwgaSwgaik7XG4gICAgICAgIGlmIChkaWZmMSA8PSAwKSB7XG4gICAgICAgICAgICBhbGVydChcImlsbGVnYWwgc3RhdGUgMlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzQ2FuZGlkYXRlcyhib2FyZCwgbnMpIHx8ICFoYXNDYW5kaWRhdGVzKGJvYXJkLCBzdG9uZSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGFsZXJ0KCdZb3UgbXVzdCBwYXNzLicpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWxlcnRHYW1lUmVzdWx0KGJvYXJkOiBCb2FyZCwgc3RvbmU6IFN0b25lKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjb3JlID0gZXZhbFNjb3JlKGJvYXJkLCBzdG9uZSk7XG4gICAgICAgIGlmIChzY29yZSA9PSAwKSB7XG4gICAgICAgICAgICBhbGVydChcIkRyYXdcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NvcmUgPiAwKSB7XG4gICAgICAgICAgICBhbGVydChcIldpblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiTG9zZVwiKTtcbiAgICAgICAgfVxuICAgIH0sIDEwMCk7XG59XG5cbmNsYXNzIEdhbWUge1xuXG4gICAgLy9zY29yaW5nQWxnb3JpdGhtOiBzdHJpbmcgPSAnYWxwaGFiZXRhJztcbiAgICBzY29yaW5nQWxnb3JpdGhtOiBzdHJpbmcgPSAnbWN0cyc7XG4gICAgbnBjQWxnb3JpdGhtOiBzdHJpbmcgPSAnYWxwaGFiZXRhJztcblxuICAgIHlvdXJTdG9uZTogU3RvbmUgPSBCO1xuICAgIG5wY0VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgc2VhcmNoRGVwdGg6IG51bWJlciA9IDU7XG4gICAgc2NvcmVWaXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIHN0b25lOiBTdG9uZTtcbiAgICBib2FyZDogQm9hcmQ7XG5cbiAgICBkaXY6IEhUTUxEaXZFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgdGhpcy5ib2FyZCA9IG5ld0JvYXJkKCk7XG4gICAgICAgIHRoaXMuc3RvbmUgPSBCO1xuICAgICAgICB0aGlzLnVwZGF0ZUJvYXJkKHRydWUsIHRoaXMuc2NvcmVWaXNpYmxlKTtcbiAgICB9XG5cbiAgICB1cGRhdGVCb2FyZChidXR0b25FbmFibGVkOiBib29sZWFuLCBzY29yZVZpc2libGU6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVCb2FyZERvbShidXR0b25FbmFibGVkLCBzY29yZVZpc2libGUpKTtcbiAgICAgICAgZGl2LmFwcGVuZCh0aGlzLmNyZWF0ZUluZm9Eb20oKSk7XG4gICAgICAgIGRpdi5hcHBlbmQodGhpcy5jcmVhdGVTY29yZURvbSgpKTtcbiAgICAgICAgZGl2LmFwcGVuZCh0aGlzLmNyZWF0ZUNvbnRyb2xsZXJEb20oKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udHJvbGxlckRvbSgpIHtcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9ICdTY29yZSc7XG4gICAgICAgICAgICBsYWJlbC5odG1sRm9yID0gJ3Njb3JlLWNoZWNrJzsgXG5cbiAgICAgICAgICAgIGNvbnN0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRoKTtcblxuICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgY2hlY2tib3guaWQgPSAnc2NvcmUtY2hlY2snXG4gICAgICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgIGNoZWNrYm94Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3JlVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJvYXJkKHRydWUsIHRoaXMuc2NvcmVWaXNpYmxlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdGhpcy5zY29yZVZpc2libGU7XG4gICAgICAgICAgICBjaGVja2JveC5jbGFzc05hbWUgPSAnY29udHJvbCc7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcblxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICBzZWxlY3QuaWQgPSAnc2NvcmUtYWxnb3JpdGhtJ1xuICAgICAgICAgICAgZm9yIChjb25zdCBhbGdvcml0aG0gb2YgWydhbHBoYWJldGEnLCAnbWN0cyddKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IGFsZ29yaXRobS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGFsZ29yaXRobS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjb3JpbmdBbGdvcml0aG0gPT0gYWxnb3JpdGhtKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIHNlbGVjdC5zZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29yaW5nQWxnb3JpdGhtID0gb3B0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FsZ29yaXRobTogJywgdGhpcy5zY29yaW5nQWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY29yZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb2FyZCh0cnVlLCB0aGlzLnNjb3JlVmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGVjdC5jbGFzc05hbWUgPSAnY29udHJvbCc7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkU2NvcmluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZFNjb3JpbmcuYXBwZW5kQ2hpbGQoc2VsZWN0KTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkU2NvcmluZyk7XG5cbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9ICdOUEMnO1xuICAgICAgICAgICAgbGFiZWwuaHRtbEZvciA9ICducGMtY2hlY2snOyBcblxuICAgICAgICAgICAgY29uc3QgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGgpO1xuXG4gICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBjaGVja2JveC5pZCA9ICducGMtY2hlY2snO1xuICAgICAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgICAgICBjaGVja2JveC5vbmNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5wY0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnBjRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdGhpcy5ucGNFbmFibGVkO1xuICAgICAgICAgICAgY2hlY2tib3guY2xhc3NOYW1lID0gJ2NvbnRyb2wnO1xuXG4gICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgc2VsZWN0LmlkID0gJ3Njb3JlLWFsZ29yaXRobSdcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWxnb3JpdGhtIG9mIFsnYWxwaGFiZXRhJywgJ21jdHMnXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgICAgIG9wdGlvbi5pbm5lckhUTUwgPSBhbGdvcml0aG0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBhbGdvcml0aG0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ucGNBbGdvcml0aG0gPT0gYWxnb3JpdGhtKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIHNlbGVjdC5zZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ucGNBbGdvcml0aG0gPSBvcHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWxnb3JpdGhtOiAnLCB0aGlzLm5wY0FsZ29yaXRobSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NvcmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm9hcmQodHJ1ZSwgdGhpcy5zY29yZVZpc2libGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxlY3QuY2xhc3NOYW1lID0gJ2NvbnRyb2wnO1xuXG4gICAgICAgICAgICBjb25zdCB0ZEFsZ29yaXRobSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZEFsZ29yaXRobS5hcHBlbmRDaGlsZChzZWxlY3QpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRBbGdvcml0aG0pO1xuXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgICAgICAgICBjb25zdCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvblJlc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGJ1dHRvblJlc2V0LnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICAgIGJ1dHRvblJlc2V0LnZhbHVlID0gJ1Jlc2V0JztcbiAgICAgICAgICAgIGJ1dHRvblJlc2V0Lm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZCA9IG5ld0JvYXJkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9uZSA9IEI7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb2FyZCh0cnVlLCB0aGlzLnNjb3JlVmlzaWJsZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnV0dG9uUmVzZXQuY2xhc3NOYW1lID0gJ2NvbnRyb2wnO1xuXG4gICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChidXR0b25SZXNldCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxuXG4gICAgY3JlYXRlSW5mb0RvbSgpIHtcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRoTmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICB0aE5leHQuY2xhc3NOYW1lID0gJ2luZm8nO1xuICAgICAgICAgICAgdGhOZXh0LmlubmVySFRNTCA9ICdOZXh0JztcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRoTmV4dCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRoVHVybiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICB0aFR1cm4uY2xhc3NOYW1lID0gJ2luZm8nO1xuICAgICAgICAgICAgdGhUdXJuLmlubmVySFRNTCA9ICdUdXJuJztcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRoVHVybik7XG5cbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b25lICE9PSBFXG4gICAgICAgICAgICAgICAgICAgICYmICFoYXNDYW5kaWRhdGVzKHRoaXMuYm9hcmQsIHRoaXMuc3RvbmUpXG4gICAgICAgICAgICAgICAgICAgICYmICFoYXNDYW5kaWRhdGVzKHRoaXMuYm9hcmQsIHJldmVyc2UodGhpcy5zdG9uZSkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9uZSA9IEU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuXG4gICAgICAgICAgICBjb25zdCB0ZE5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvbmUgPT0gQikge1xuICAgICAgICAgICAgICAgIHRkTmV4dC5jbGFzc05hbWUgPSAnYiBpbmZvJztcbiAgICAgICAgICAgICAgICB0ZE5leHQuaW5uZXJIVE1MID0gJ+KXjyc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RvbmUgPT0gVykge1xuICAgICAgICAgICAgICAgIHRkTmV4dC5jbGFzc05hbWUgPSAndyBpbmZvJztcbiAgICAgICAgICAgICAgICB0ZE5leHQuaW5uZXJIVE1MID0gJ+KXjyc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRkTmV4dC5pbm5lckhUTUwgPSAnR2FtZSBFbmQnO1xuICAgICAgICAgICAgICAgIHRkTmV4dC5jbGFzc05hbWUgPSAnaW5mbyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZE5leHQpO1xuXG4gICAgICAgICAgICBjb25zdCB0ZFR1cm4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGRUdXJuLmNsYXNzTmFtZSA9ICdpbmZvJztcblxuICAgICAgICAgICAgY29uc3Qgc3RvbmVzID0gY291bnRUdXJucyh0aGlzLmJvYXJkKTtcbiAgICAgICAgICAgIHRkVHVybi5pbm5lckhUTUwgPSAoc3RvbmVzIC0gMykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkVHVybik7XG5cbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxuXG4gICAgY3JlYXRlU2NvcmVEb20oKSB7XG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuXG4gICAgICAgICAgICBjb25zdCB0aE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICAgICAgdGhOYW1lLmNsYXNzTmFtZSA9ICdzY29yZSc7XG4gICAgICAgICAgICB0aE5hbWUuaW5uZXJIVE1MID0gJ05hbWUnO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGhOYW1lKTtcblxuICAgICAgICAgICAgY29uc3QgdGhCbGFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICB0aEJsYWNrLmNsYXNzTmFtZSA9ICdzY29yZSc7XG4gICAgICAgICAgICB0aEJsYWNrLmlubmVySFRNTCA9ICdCbGFjayc7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aEJsYWNrKTtcblxuICAgICAgICAgICAgY29uc3QgdGhXaGl0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICB0aFdoaXRlLmNsYXNzTmFtZSA9ICdzY29yZSc7XG4gICAgICAgICAgICB0aFdoaXRlLmlubmVySFRNTCA9ICdXaGl0ZSc7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aFdoaXRlKTtcblxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBiU3RvbmVzID0gY291bnRTdG9uZXModGhpcy5ib2FyZCwgQik7XG4gICAgICAgIGNvbnN0IHdTdG9uZXMgPSBjb3VudFN0b25lcyh0aGlzLmJvYXJkLCBXKTtcbiAgICAgICAgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuXG4gICAgICAgICAgICBjb25zdCB0ZExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkTGFiZWwuY2xhc3NOYW1lID0gJ3Njb3JlJztcbiAgICAgICAgICAgIHRkTGFiZWwuaW5uZXJIVE1MID0gJ1N0b25lcyc7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZExhYmVsKTtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHRkQmxhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGRCbGFjay5jbGFzc05hbWUgPSAnc2NvcmUnO1xuICAgICAgICAgICAgdGRCbGFjay5pbm5lckhUTUwgPSBiU3RvbmVzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZEJsYWNrKTtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHRkV2hpdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGRXaGl0ZS5jbGFzc05hbWUgPSAnc2NvcmUnO1xuICAgICAgICAgICAgdGRXaGl0ZS5pbm5lckhUTUwgPSB3U3RvbmVzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFdoaXRlKTtcblxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRkTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGRMYWJlbC5jbGFzc05hbWUgPSAnc2NvcmUnO1xuICAgICAgICAgICAgdGRMYWJlbC5pbm5lckhUTUwgPSAnU2NvcmUnO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRMYWJlbCk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0ZEJsYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkQmxhY2suY2xhc3NOYW1lID0gJ3Njb3JlJztcbiAgICAgICAgICAgIHRkQmxhY2suaW5uZXJIVE1MID0gKGJTdG9uZXMgLSB3U3RvbmVzKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRCbGFjayk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0ZFdoaXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkV2hpdGUuY2xhc3NOYW1lID0gJ3Njb3JlJztcbiAgICAgICAgICAgIHRkV2hpdGUuaW5uZXJIVE1MID0gKHdTdG9uZXMgLSBiU3RvbmVzKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRXaGl0ZSk7XG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxuXG4gICAgY3JlYXRlQm9hcmREb20oYnV0dG9uRW5hYmxlZDogYm9vbGVhbiwgc2NvcmVWaXNpYmxlOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHlvdXJTdG9uZSA9IHRoaXMueW91clN0b25lO1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICAgICAgdGFibGUuY2xhc3NOYW1lID0gJ2JvYXJkJztcbiAgICBcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuc3RvbmU7XG5cbiAgICAgICAgY29uc3QgbWN0c0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIGxldCBsaXN0OiBDYW5kaWRhdGVbXTtcbiAgICAgICAgaWYgKHNjb3JlVmlzaWJsZSAmJiBidXR0b25FbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2NvcmluZycsIHRoaXMuc2NvcmluZ0FsZ29yaXRobSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zY29yaW5nQWxnb3JpdGhtID09PSAnbWN0cycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb29wcyA9IDEwMDAwO1xuICAgICAgICAgICAgICAgIGxpc3QgPSBNQ1RTLmNhbmRpZGF0ZUxpc3QodGhpcy5ib2FyZCwgcywgbG9vcHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjb3JpbmdBbGdvcml0aG0gPT09ICdhbHBoYWJldGEnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVwdGggPSA1O1xuICAgICAgICAgICAgICAgIGxpc3QgPSBjYW5kaWRhdGVMaXN0KHRoaXMuYm9hcmQsIHMsIGRlcHRoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbGdvcml0aG06ICcrIHRoaXMuc2NvcmluZ0FsZ29yaXRobSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uRW5hYmxlZCkge1xuICAgICAgICAgICAgbGlzdCA9IHNjYW5DYW5kaWRhdGVzKHRoaXMuYm9hcmQsIHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRvdGFsQ291bnQgPSAwO1xuICAgICAgICBsZXQgbWF4U2NvcmUgPSBNSU5fU0NPUkU7XG4gICAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGxpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IFtpaiwgc2NvcmUsIGNvdW50XSA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICAgIG1heFNjb3JlID0gTWF0aC5tYXgobWF4U2NvcmUsIHNjb3JlKTtcbiAgICAgICAgICAgIHRvdGFsQ291bnQgKz0gY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgICAgICB0ci5jbGFzc05hbWUgPSAnYm9hcmQnO1xuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9uZSA9IHRoaXMuYm9hcmRbaV1bal07XG4gICAgICAgICAgICAgICAgaWYgKHN0b25lID09PSBCKSB7XG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9ICfil48nO1xuICAgICAgICAgICAgICAgICAgICB0ZC5jbGFzc05hbWUgPSAnYm9hcmQgYic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdG9uZSA9PSBXKSB7XG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9ICfil48nO1xuICAgICAgICAgICAgICAgICAgICB0ZC5jbGFzc05hbWUgPSAnYm9hcmQgdyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGQuY2xhc3NOYW1lID0gJ2JvYXJkJztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXRhIG9mIGxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtpMSwgajFdID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpMSA9PT0gaSAmJiBqMSA9PT0gaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlID0gZGF0YVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlID09IE1JTl9TQ09SRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSAnY2FuZGlkYXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24udmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NvcmUgPT0gbWF4U2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gQikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gJ2Jlc3QtY2FuZGlkYXRlLWInO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24udmFsdWUgPSBNYXRoLnJvdW5kKHNjb3JlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocyA9PT0gVykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gJ2Jlc3QtY2FuZGlkYXRlLXcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24udmFsdWUgPSBNYXRoLnJvdW5kKHNjb3JlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09IEIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdjYW5kaWRhdGUtYic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi52YWx1ZSA9IE1hdGgucm91bmQoc2NvcmUpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzID09PSBXKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSAnY2FuZGlkYXRlLXcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24udmFsdWUgPSBNYXRoLnJvdW5kKHNjb3JlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBwdXRTdG9uZSh0aGlzLmJvYXJkLCB0aGlzLnN0b25lLCBpLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA8PSAwKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJvYXJkKGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBucyA9IHJldmVyc2UodGhpcy5zdG9uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNDYW5kaWRhdGVzKHRoaXMuYm9hcmQsIHRoaXMuc3RvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAhaGFzQ2FuZGlkYXRlcyh0aGlzLmJvYXJkLCBucykgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvbmUgPSBFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydEdhbWVSZXN1bHQodGhpcy5ib2FyZCwgeW91clN0b25lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm9hcmQoZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ucGNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBucGModGhpcy5ib2FyZCwgbnMsIHRoaXMubnBjQWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzQ2FuZGlkYXRlcyh0aGlzLmJvYXJkLCB0aGlzLnN0b25lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvbmUgPSBFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0R2FtZVJlc3VsdCh0aGlzLmJvYXJkLCB5b3VyU3RvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NhbmRpZGF0ZXModGhpcy5ib2FyZCwgbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9uZSA9IG5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaGFzQ2FuZGlkYXRlcyh0aGlzLmJvYXJkLCB0aGlzLnN0b25lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvbmUgPSBFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm9hcmQodHJ1ZSwgdGhpcy5zY29yZVZpc2libGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWJsZTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEdhbWUsIFN0b25lLCBCLCBXLCBFIH07IiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGluaXQoKTtcbn0pO1xuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2FtZS5kaXYpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==